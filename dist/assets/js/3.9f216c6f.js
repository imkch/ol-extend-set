(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{323:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},325:function(t,e,i){var r=i(20),n="["+i(323)+"]",o=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),a=function(t){return function(e){var i=String(r(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(s,"")),i}};t.exports={start:a(1),end:a(2),trim:a(3)}},341:function(t,e,i){"use strict";var r=i(0),n=i(325).trim;r({target:"String",proto:!0,forced:i(364)("trim")},{trim:function(){return n(this)}})},352:function(t,e,i){"use strict";var r=i(105),n=i(5),o=i(10),s=i(20),a=i(110),l=i(106);r("match",1,(function(t,e,i){return[function(e){var i=s(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,i):new RegExp(e)[t](String(i))},function(t){var r=i(e,t,this);if(r.done)return r.value;var s=n(t),h=String(this);if(!s.global)return l(s,h);var c=s.unicode;s.lastIndex=0;for(var u,f=[],d=0;null!==(u=l(s,h));){var p=String(u[0]);f[d]=p,""===p&&(s.lastIndex=a(h,o(s.lastIndex),c)),d++}return 0===d?null:f}]}))},353:function(t,e,i){var r=i(0),n=i(363);r({global:!0,forced:parseInt!=n},{parseInt:n})},354:function(t,e,i){var r=i(4),n=i(103);t.exports=function(t,e,i){var o,s;return n&&"function"==typeof(o=e.constructor)&&o!==i&&r(s=o.prototype)&&s!==i.prototype&&n(t,s),t}},355:function(t,e,i){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}i(173),t.exports=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}},360:function(t,e,i){"use strict";i.r(e);var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.default=r},363:function(t,e,i){var r=i(2),n=i(325).trim,o=i(323),s=r.parseInt,a=/^[+-]?0[Xx]/,l=8!==s(o+"08")||22!==s(o+"0x16");t.exports=l?function(t,e){var i=n(String(t));return s(i,e>>>0||(a.test(i)?16:10))}:s},364:function(t,e,i){var r=i(1),n=i(323);t.exports=function(t){return r((function(){return!!n[t]()||"​᠎"!="​᠎"[t]()||n[t].name!==t}))}},366:function(t,e,i){i(0)({target:"Function",proto:!0},{bind:i(185)})},370:function(t,e,i){"use strict";i.r(e),i.d(e,"toFunction",(function(){return h})),i.d(e,"createDefaultStyle",(function(){return u})),i.d(e,"createEditingStyle",(function(){return f}));var r=i(378),n=i(360),o=i(320),s=i(371),a=i(319),l=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=d,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function h(t){var e;if("function"==typeof t)e=t;else{var i;if(Array.isArray(t))i=t;else Object(a.a)("function"==typeof t.getZIndex,41),i=[t];e=function(){return i}}return e}var c=null;function u(t,e){if(!c){var i=new n.default({color:"rgba(255,255,255,0.4)"}),o=new s.default({color:"#3399CC",width:1.25});c=[new l({image:new r.default({fill:i,stroke:o,radius:5}),fill:i,stroke:o})]}return c}function f(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[o.a.POLYGON]=[new l({fill:new n.default({color:[255,255,255,.5]})})],t[o.a.MULTI_POLYGON]=t[o.a.POLYGON],t[o.a.LINE_STRING]=[new l({stroke:new s.default({color:e,width:5})}),new l({stroke:new s.default({color:i,width:3})})],t[o.a.MULTI_LINE_STRING]=t[o.a.LINE_STRING],t[o.a.CIRCLE]=t[o.a.POLYGON].concat(t[o.a.LINE_STRING]),t[o.a.POINT]=[new l({image:new r.default({radius:6,fill:new n.default({color:i}),stroke:new s.default({color:e,width:1.5})}),zIndex:1/0})],t[o.a.MULTI_POINT]=t[o.a.POINT],t[o.a.GEOMETRY_COLLECTION]=t[o.a.POLYGON].concat(t[o.a.LINE_STRING],t[o.a.POINT]),t}function d(t){return t.getGeometry()}e.default=l},371:function(t,e,i){"use strict";i.r(e);var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.default=r},373:function(t,e,i){"use strict";i.r(e);var r=i(320),n=i(327),o=i(312),s=i(314),a=i(400),l=i(318),h=i(401),c=i(459),u=i(347),f=Object(n.c)(),d=function(){function t(t,e,i,r,n){this.extent_,this.id_=n,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=r}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===r.a.POINT?Object(o.m)(this.flatCoordinates_):Object(o.o)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(o.x)(this.getExtent());this.flatInteriorPoints_=Object(a.a)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(c.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(a.b)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(h.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,i=this.ends_,r=0,n=i.length;r<n;++r){var o=i[r],a=Object(h.a)(t,e,o,2,.5);Object(s.c)(this.flatMidpoints_,a),e=o}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t){var e=(t=Object(l.get)(t)).getExtent(),i=t.getWorldExtent();if(e&&i){var r=Object(o.A)(i)/Object(o.A)(e);Object(n.b)(f,i[0],i[3],r,-r,0,0,0),Object(u.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,f,this.flatCoordinates_)}},t.prototype.getEnds=function(){return this.ends_},t}();d.prototype.getEndss=d.prototype.getEnds,d.prototype.getFlatCoordinates=d.prototype.getOrientedFlatCoordinates,e.default=d},378:function(t,e,i){"use strict";i.r(e);var r,n=i(358),o=i(453),s=i(368),a=i(384),l=i(324),h=i(322),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e){var i=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(i=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.anchor_=null,i.size_=null,i.imageSize_=null,i.hitDetectionImageSize_=null,i.render(),i}return c(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},e.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),i=Object(l.a)(e.size*t||1,e.size*t||1);this.draw_(e,i,0,0,t||1),this.canvas_[t||1]=i.canvas}return this.canvas_[t||1]},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return n.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.createRenderOptions=function(){var t,e=h.defaultLineCap,i=h.defaultLineJoin,r=0,n=null,o=0,s=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=h.defaultStrokeStyle),t=Object(a.a)(t),void 0===(s=this.stroke_.getWidth())&&(s=h.defaultLineWidth),n=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(i=this.stroke_.getLineJoin())&&(i=h.defaultLineJoin),void 0===(e=this.stroke_.getLineCap())&&(e=h.defaultLineCap),void 0===(r=this.stroke_.getMiterLimit())&&(r=h.defaultMiterLimit)),{strokeStyle:t,strokeWidth:s,size:2*(this.radius_+s)+1,lineCap:e,lineDash:n,lineDashOffset:o,lineJoin:i,miterLimit:r}},e.prototype.render=function(){var t=this.createRenderOptions(),e=Object(l.a)(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var i=e.canvas.width,r=i,n=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[i/2-n[0],i/2+n[1]],this.size_=[i,i],this.imageSize_=[r,r]},e.prototype.draw_=function(t,e,i,r,n){var o,s,l;e.setTransform(n,0,0,n,0,0),e.translate(i,r),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(c*=2),o=0;o<=c;o++)s=2*o*Math.PI/c-Math.PI/2+this.angle_,l=o%2==0?this.radius_:u,e.lineTo(t.size/2+l*Math.cos(s),t.size/2+l*Math.sin(s))}if(this.fill_){var f=this.fill_.getColor();null===f&&(f=h.defaultFillStyle),e.fillStyle=Object(a.a)(f),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=Object(s.a)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){var r=Object(l.a)(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,r){e.translate(i,r),e.beginPath();var n=this.points_;if(n===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(n*=2);var s=void 0,a=void 0,l=void 0;for(s=0;s<=n;s++)l=2*s*Math.PI/n-Math.PI/2+this.angle_,a=s%2==0?this.radius_:o,e.lineTo(t.size/2+a*Math.cos(l),t.size/2+a*Math.sin(l))}e.fillStyle=h.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(o.a),f=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),d=function(t){function e(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this}return f(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(u);e.default=d},379:function(t,e,i){"use strict";var r=i(0),n=i(108),o=i(47),s=i(10),a=i(12),l=i(109),h=i(50),c=i(49),u=i(17),f=c("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var i,r,c,u,f,d,_=a(this),y=s(_.length),v=n(t,y),m=arguments.length;if(0===m?i=r=0:1===m?(i=0,r=y-v):(i=m-2,r=g(p(o(e),0),y-v)),y+i-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=l(_,r),u=0;u<r;u++)(f=v+u)in _&&h(c,u,_[f]);if(c.length=r,i<r){for(u=v;u<y-r;u++)d=u+i,(f=u+r)in _?_[d]=_[f]:delete _[d];for(u=y;u>y-r+i;u--)delete _[u-1]}else if(i>r)for(u=y-r;u>v;u--)d=u+i-1,(f=u+r-1)in _?_[d]=_[f]:delete _[d];for(u=0;u<i;u++)_[u+v]=arguments[u+2];return _.length=y-r+i,c}})},380:function(t,e,i){"use strict";var r=i(6),n=i(2),o=i(101),s=i(11),a=i(7),l=i(27),h=i(354),c=i(48),u=i(1),f=i(31),d=i(71).f,p=i(25).f,g=i(8).f,_=i(325).trim,y=n.Number,v=y.prototype,m="Number"==l(f(v)),x=function(t){var e,i,r,n,o,s,a,l,h=c(t,!1);if("string"==typeof h&&h.length>2)if(43===(e=(h=_(h)).charCodeAt(0))||45===e){if(88===(i=h.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(h.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+h}for(s=(o=h.slice(2)).length,a=0;a<s;a++)if((l=o.charCodeAt(a))<48||l>n)return NaN;return parseInt(o,r)}return+h};if(o("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,O=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof O&&(m?u((function(){v.valueOf.call(i)})):"Number"!=l(i))?h(new y(x(e)),i,O):x(e)},b=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;b.length>T;T++)a(y,S=b[T])&&!a(O,S)&&g(O,S,p(y,S));O.prototype=v,v.constructor=O,s(n,"Number",O)}},381:function(t,e,i){var r=i(0),n=i(396);r({global:!0,forced:parseFloat!=n},{parseFloat:n})},382:function(t,e,i){i(111),i(45),i(100),i(70),i(9),i(98),i(26);var r=i(434);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}},384:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(368);function n(t){return Array.isArray(t)?Object(r.c)(t):t}},386:function(t,e,i){"use strict";i.r(e);var r=i(360),n=i(446),o=i(338),s=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(o.c)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:n.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(o.c)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.default=s},391:function(t,e,i){"use strict";i.r(e);var r,n=i(372),o=i(525),s=i.n(o),a=i(315),l=i(370),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c="renderOrder",u=function(t){function e(e){var i=this,r=e||{},n=Object(a.a)({},r);return delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,(i=t.call(this,n)||this).declutter_=void 0!==r.declutter&&r.declutter,i.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(r.style),i.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,i.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,i}return h(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(c)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new s.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(c,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:l.createDefaultStyle,this.styleFunction_=null===t?void 0:Object(l.toFunction)(this.style_),this.changed()},e}(n.a),f={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},d=[f.FILL],p=[f.STROKE],g=[f.BEGIN_PATH],_=[f.CLOSE_PATH],y=f,v=i(320),m=i(443),x=function(){function t(){}return t.prototype.drawCustom=function(t,e,i){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),S=i(384),O=i(312),b=i(322),T=i(314),C=i(346),I=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),w=function(t){function e(e,i,r,n){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=i,o.pixelRatio=n,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return I(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,n=this.coordinates,o=n.length,s=0,a=t.length;s<a;s+=e)r[0]=t[s],r[1]=t[s+1],Object(O.f)(i,r)&&(n[o++]=r[0],n[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,i,r,n,o){var s=this.coordinates,a=s.length,l=this.getBufferedMaxExtent();o&&(e+=r);var h,c,u,f=t[e],d=t[e+1],p=this.tmpCoordinate_,g=!0;for(h=e+r;h<i;h+=r)p[0]=t[h],p[1]=t[h+1],(u=Object(O.i)(l,p))!==c?(g&&(s[a++]=f,s[a++]=d,g=!1),s[a++]=p[0],s[a++]=p[1]):u===m.a.INTERSECTING?(s[a++]=p[0],s[a++]=p[1],g=!1):g=!0,f=p[0],d=p[1],c=u;return(n&&g||h===e+r)&&(s[a++]=f,s[a++]=d),a},e.prototype.drawCustomCoordinates_=function(t,e,i,r,n){for(var o=0,s=i.length;o<s;++o){var a=i[o],l=this.appendFlatLineCoordinates(t,e,a,r,!1,!1);n.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var r,n,o,s,a,l=t.getType(),h=t.getStride(),c=this.coordinates.length;if(l==v.a.MULTI_POLYGON){r=t.getOrientedFlatCoordinates(),s=[];var u=t.getEndss();a=0;for(var f=0,d=u.length;f<d;++f){var p=[];a=this.drawCustomCoordinates_(r,a,u[f],h,p),s.push(p)}this.instructions.push([y.CUSTOM,c,s,t,i,C.c])}else l==v.a.POLYGON||l==v.a.MULTI_LINE_STRING?(o=[],r=l==v.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(r,0,t.getEnds(),h,o),this.instructions.push([y.CUSTOM,c,o,t,i,C.b])):l==v.a.LINE_STRING||l==v.a.CIRCLE?(r=t.getFlatCoordinates(),n=this.appendFlatLineCoordinates(r,0,r.length,h,!1,!1),this.instructions.push([y.CUSTOM,c,n,t,i,C.a])):l==v.a.MULTI_POINT?(r=t.getFlatCoordinates(),(n=this.appendFlatPointCoordinates(r,h))>c&&this.instructions.push([y.CUSTOM,c,n,t,i,C.a])):l==v.a.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),n=this.coordinates.length,this.instructions.push([y.CUSTOM,c,n,t,i]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[y.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[y.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,r,n=e.length,o=-1;for(t=0;t<n;++t)(r=(i=e[t])[0])==y.END_GEOMETRY?o=t:r==y.BEGIN_GEOMETRY&&(i[2]=t,Object(T.j)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var r=t.getColor();i.fillStyle=Object(S.a)(r||b.defaultFillStyle)}else i.fillStyle=void 0;if(e){var n=e.getColor();i.strokeStyle=Object(S.a)(n||b.defaultStrokeStyle);var o=e.getLineCap();i.lineCap=void 0!==o?o:b.defaultLineCap;var s=e.getLineDash();i.lineDash=s?s.slice():b.defaultLineDash;var a=e.getLineDashOffset();i.lineDashOffset=a||b.defaultLineDashOffset;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:b.defaultLineJoin;var h=e.getWidth();i.lineWidth=void 0!==h?h:b.defaultLineWidth;var c=e.getMiterLimit();i.miterLimit=void 0!==c?c:b.defaultMiterLimit,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[y.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[y.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,r=t.lineCap,n=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||n!=t.currentLineDash&&!Object(T.b)(t.currentLineDash,n)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=n,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[y.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(O.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(O.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(x),L=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),R=function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return L(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),n=this.coordinates.length,o=this.appendFlatPointCoordinates(i,r);this.instructions.push([y.DRAW_IMAGE,n,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([y.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),n=this.coordinates.length,o=this.appendFlatPointCoordinates(i,r);this.instructions.push([y.DRAW_IMAGE,n,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([y.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),r=t.getSize(),n=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=n,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterImageWithText_=e},e}(w),F=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),E=function(t){function e(e,i,r,n){return t.call(this,e,i,r,n)||this}return F(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,r){var n=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,i,r,!1,!1),s=[y.MOVE_TO_LINE_TO,n,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,r=i.strokeStyle,n=i.lineWidth;if(void 0!==r&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],g);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(p),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,r=i.strokeStyle,n=i.lineWidth;if(void 0!==r&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],g);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,h=0,c=o.length;h<c;++h)l=this.drawFlatCoordinates_(s,l,o[h],a);this.hitDetectionInstructions.push(p),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(p),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(p),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(g)},e}(w),j=i(357),k=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),D=function(t){function e(e,i,r,n){return t.call(this,e,i,r,n)||this}return k(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,r){var n=this.state,o=void 0!==n.fillStyle,s=void 0!==n.strokeStyle,a=i.length;this.instructions.push(g),this.hitDetectionInstructions.push(g);for(var l=0;l<a;++l){var h=i[l],c=this.coordinates.length,u=this.appendFlatLineCoordinates(t,e,h,r,!0,!s),f=[y.MOVE_TO_LINE_TO,c,u];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(_),this.hitDetectionInstructions.push(_)),e=h}return o&&(this.instructions.push(d),this.hitDetectionInstructions.push(d)),s&&(this.instructions.push(p),this.hitDetectionInstructions.push(p)),e},e.prototype.drawCircle=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([y.SET_FILL_STYLE,b.defaultFillStyle]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,s,!1,!1);var l=[y.CIRCLE,a];this.instructions.push(g,l),this.hitDetectionInstructions.push(g,l),void 0!==i.fillStyle&&(this.instructions.push(d),this.hitDetectionInstructions.push(d)),void 0!==i.strokeStyle&&(this.instructions.push(p),this.hitDetectionInstructions.push(p)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([y.SET_FILL_STYLE,b.defaultFillStyle]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([y.SET_FILL_STYLE,b.defaultFillStyle]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,h=0,c=o.length;h<c;++h)l=this.drawFlatCoordinatess_(s,l,o[h],a);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,r=0,n=i.length;r<n;++r)i[r]=Object(j.e)(i[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(w),M=i(446),P=i(317);function A(t,e,i,r,n){var o,s,a,l,h,c,u,f,d,p=i,g=i,_=0,y=0,v=i;for(o=i;o<r;o+=n){var m=e[o],x=e[o+1];void 0!==l&&(f=m-l,d=x-h,a=Math.sqrt(f*f+d*d),void 0!==c&&(y+=s,Math.acos((c*f+u*d)/(s*a))>t&&(y>_&&(_=y,p=v,g=o),y=0,v=o-n)),s=a,c=f,u=d),l=m,h=x}return(y+=a)>_?[v,o]:[p,g]}var N=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),G={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},B={Circle:D,Default:w,Image:R,LineString:E,Polygon:D,Text:function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return N(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,r=this.textStrokeState_,n=this.textState_;if(""!==this.text_&&n&&(i||r)){var o=this.coordinates,s=o.length,a=t.getType(),l=null,h=t.getStride();if(n.placement!==M.a.LINE||a!=v.a.LINE_STRING&&a!=v.a.MULTI_LINE_STRING&&a!=v.a.POLYGON&&a!=v.a.MULTI_POLYGON){var c=n.overflow?null:[];switch(a){case v.a.POINT:case v.a.MULTI_POINT:l=t.getFlatCoordinates();break;case v.a.LINE_STRING:l=t.getFlatMidpoint();break;case v.a.CIRCLE:l=t.getCenter();break;case v.a.MULTI_LINE_STRING:l=t.getFlatMidpoints(),h=2;break;case v.a.POLYGON:l=t.getFlatInteriorPoint(),n.overflow||c.push(l[2]/this.resolution),h=3;break;case v.a.MULTI_POLYGON:var u=t.getFlatInteriorPoints();l=[];for(C=0,I=u.length;C<I;C+=3)n.overflow||c.push(u[C+2]/this.resolution),l.push(u[C],u[C+1]);if(0===l.length)return;h=2}if((k=this.appendFlatPointCoordinates(l,h))===s)return;this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=n.padding;if(f!=b.defaultPadding&&(n.scale[0]<0||n.scale[1]<0)){var d=n.padding[0],p=n.padding[1],g=n.padding[2],_=n.padding[3];n.scale[0]<0&&(p=-p,_=-_),n.scale[1]<0&&(d=-d,g=-g),f=[d,p,g,_]}var m=this.pixelRatio;this.instructions.push([y.DRAW_IMAGE,s,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==b.defaultPadding?b.defaultPadding:f.map((function(t){return t*m})),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var x=1/m;this.hitDetectionInstructions.push([y.DRAW_IMAGE,s,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[x,x],NaN,this.declutterImageWithText_,f,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!Object(O.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var S=void 0;if(l=t.getFlatCoordinates(),a==v.a.LINE_STRING)S=[l.length];else if(a==v.a.MULTI_LINE_STRING)S=t.getEnds();else if(a==v.a.POLYGON)S=t.getEnds().slice(0,1);else if(a==v.a.MULTI_POLYGON){var T=t.getEndss();S=[];for(var C=0,I=T.length;C<I;++C)S.push(T[C][0])}this.beginGeometry(t,e);for(var w=n.textAlign,L=0,R=void 0,F=0,E=S.length;F<E;++F){if(null==w){var j=A(n.maxAngle,l,L,S[F],h);L=j[0],R=j[1]}else R=S[F];for(var C=L;C<R;C+=h)o.push(l[C],l[C+1]);var k=o.length;L=S[F],this.drawChars_(s,k),s=k}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var n=this.textKey_;n in this.textStates||(this.textStates[n]={font:e.font,textAlign:e.textAlign||b.defaultTextAlign,textBaseline:e.textBaseline||b.defaultTextBaseline,scale:e.scale});var o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,r=this.textState_,n=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,l=G[r.textBaseline],h=this.textOffsetY_*a,c=this.text_,u=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([y.DRAW_CHARS,t,e,l,r.overflow,s,r.maxAngle,a,h,n,u*a,c,o,1]),this.hitDetectionInstructions.push([y.DRAW_CHARS,t,e,l,r.overflow,s,r.maxAngle,1,h,n,u,c,o,1/a])},e.prototype.setTextStyle=function(t,e){var i,r,n;if(t){var o=t.getFill();o?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=Object(S.a)(o.getColor()||b.defaultFillStyle)):(r=null,this.textFillState_=r);var s=t.getStroke();if(s){(n=this.textStrokeState_)||(n={},this.textStrokeState_=n);var a=s.getLineDash(),l=s.getLineDashOffset(),h=s.getWidth(),c=s.getMiterLimit();n.lineCap=s.getLineCap()||b.defaultLineCap,n.lineDash=a?a.slice():b.defaultLineDash,n.lineDashOffset=void 0===l?b.defaultLineDashOffset:l,n.lineJoin=s.getLineJoin()||b.defaultLineJoin,n.lineWidth=void 0===h?b.defaultLineWidth:h,n.miterLimit=void 0===c?b.defaultMiterLimit:c,n.strokeStyle=Object(S.a)(s.getColor()||b.defaultStrokeStyle)}else n=null,this.textStrokeState_=n;i=this.textState_;var u=t.getFont()||b.defaultFont;Object(b.registerFont)(u);var f=t.getScaleArray();i.overflow=t.getOverflow(),i.font=u,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||b.defaultTextBaseline,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||b.defaultPadding,i.scale=void 0===f?[1,1]:f;var d=t.getOffsetX(),p=t.getOffsetY(),g=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===_?0:_,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:Object(P.c)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(P.c)(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(w)},Y=function(){function t(t,e,i,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var r in i){var n=i[r].finish();t[e][r]=n}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[i];void 0===r&&(r={},this.buildersByZIndex_[i]=r);var n=r[e];void 0===n&&(n=new(0,B[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=n);return n},t}(),W="Circle",X="Default",V="Image",z="LineString",U="Polygon",Z="Text",J=i(337),H=i(327),K=i(316),q=i(347);function Q(t,e,i,r,n,o,s,a,l,h,c,u){var f=t[e],d=t[e+1],p=0,g=0,_=0,y=0;function v(){p=f,g=d,f=t[e+=r],d=t[e+1],y+=_,_=Math.sqrt((f-p)*(f-p)+(d-g)*(d-g))}do{v()}while(e<i-r&&y+_<o);for(var m=(o-y)/_,x=Object(K.c)(p,f,m),S=Object(K.c)(g,d,m),O=e-r,b=y,T=o+a*l(h,n,c);e<i-r&&y+_<T;)v();m=(T-y)/_;var C,I=Object(K.c)(p,f,m),w=Object(K.c)(g,d,m);if(u){var L=[x,S,I,w];Object(q.a)(L,0,4,2,u,L,L),C=L[0]>L[2]}else C=x>I;var R,F=Math.PI,E=[],j=O+r===e;if(_=0,y=b,f=t[e=O],d=t[e+1],j){v();var k=Math.atan2(d-g,f-p);C&&(k+=k>0?-F:F);var D=(I+x)/2,M=(w+S)/2;return E[0]=[D,M,(T-o)/2,k,n],E}for(var P=0,A=n.length;P<A;){v();var N=Math.atan2(d-g,f-p);if(C&&(N+=N>0?-F:F),void 0!==R){var G=N-R;if(G+=G>F?-2*F:G<-F?2*F:0,Math.abs(G)>s)return null}R=N;for(var B=P,Y=0;P<A;++P){var W=a*l(h,n[C?A-P-1:P],c);if(e+r<i&&y+_<o+Y+W/2)break;Y+=W}if(P!==B){var X=C?n.substring(A-B,A-P):n.substring(B,P);m=(o+Y/2-y)/_;D=Object(K.c)(p,f,m),M=Object(K.c)(g,d,m);E.push([D,M,Y/2,N,X]),o+=Y}}return E}var $=i(447),tt=Object(O.j)(),et=[],it=[],rt=[],nt=[];function ot(t){return t[3].declutterBox}var st=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function at(t,e){return"start"!==e&&"end"!==e||st.test(t)||(e="start"===e?"left":"right"),G[e]}var lt=function(){function t(t,e,i,r,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderBuffer_=n,this.renderedTransform_=Object(H.c)(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,r){var n=t+e+i+r;if(this.labels_[n])return this.labels_[n];var o=r?this.strokeStates[r]:null,s=i?this.fillStates[i]:null,a=this.textStates[e],l=this.pixelRatio,h=[a.scale[0]*l,a.scale[1]*l],c=at(t,a.textAlign||b.defaultTextAlign),u=r&&o.lineWidth?o.lineWidth:0,f=t.split("\n"),d=f.length,p=[],g=Object(b.measureTextWidths)(a.font,f,p),_=Object(b.measureTextHeight)(a.font),y=g+u,v=[],m=(y+2)*h[0],x=(_*d+u)*h[1],S={width:m<0?Math.floor(m):Math.ceil(m),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:v};(1==h[0]&&1==h[1]||v.push("scale",h),v.push("font",a.font),r)&&(v.push("strokeStyle",o.strokeStyle),v.push("lineWidth",u),v.push("lineCap",o.lineCap),v.push("lineJoin",o.lineJoin),v.push("miterLimit",o.miterLimit),(J.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[o.lineDash]),v.push("lineDashOffset",o.lineDashOffset)));i&&v.push("fillStyle",s.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");var O,T=.5-c,C=c*y+T*u;if(r)for(O=0;O<d;++O)v.push("strokeText",[f[O],C+T*p[O],.5*(u+_)+O*_]);if(i)for(O=0;O<d;++O)v.push("fillText",[f[O],C+T*p[O],.5*(u+_)+O*_]);return this.labels_[n]=S,S},t.prototype.replayTextBackground_=function(t,e,i,r,n,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,r,n,o,s,a,l,h,c,u,f,d,p,g){var _,y=i-(s*=u[0]),v=r-(a*=u[1]),m=n+l>t?t-l:n,x=o+h>e?e-h:o,S=d[3]+m*u[0]+d[1],b=d[0]+x*u[1]+d[2],T=y-d[3],C=v-d[0];return(p||0!==c)&&(et[0]=T,nt[0]=T,et[1]=C,it[1]=C,it[0]=T+S,rt[0]=it[0],rt[1]=C+b,nt[1]=rt[1]),0!==c?(_=Object(H.b)(Object(H.c)(),i,r,1,1,c,-i,-r),Object(H.a)(_,et),Object(H.a)(_,it),Object(H.a)(_,rt),Object(H.a)(_,nt),Object(O.k)(Math.min(et[0],it[0],rt[0],nt[0]),Math.min(et[1],it[1],rt[1],nt[1]),Math.max(et[0],it[0],rt[0],nt[0]),Math.max(et[1],it[1],rt[1],nt[1]),tt)):Object(O.k)(Math.min(T,T+S),Math.min(C,C+b),Math.max(T,T+S),Math.max(C,C+b),tt),f&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:m,drawImageH:x,originX:l,originY:h,declutterBox:{minX:tt[0],minY:tt[1],maxX:tt[2],maxY:tt[3],value:g},canvasTransform:_,scale:u}},t.prototype.replayImageOrLabel_=function(t,e,i,r,n,o,s){var a=!(!o&&!s),l=r.declutterBox,h=t.canvas,c=s?s[2]*r.scale[0]/2:0;return l.minX-c<=h.width/e&&l.maxX+c>=0&&l.minY-c<=h.height/e&&l.maxY+c>=0&&(a&&this.replayTextBackground_(t,et,it,rt,nt,o,s),Object(b.drawImageOrLabel)(t,r.canvasTransform,n,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(H.a)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,r){var n=this.textStates[e],o=this.createLabel(t,e,r,i),s=this.strokeStates[i],a=this.pixelRatio,l=at(t,n.textAlign||b.defaultTextAlign),h=G[n.textBaseline||b.defaultTextBaseline],c=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*n.scale[0])+2*(.5-l)*c,anchorY:h*o.height/a+2*(.5-h)*c}},t.prototype.execute_=function(t,e,i,r,n,o,s,a){var l;this.pixelCoordinates_&&Object(T.b)(i,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Object(q.c)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Object(H.h)(this.renderedTransform_,i));for(var h,c,u,f,d,p,g,_,v,m,x,S,C,I,w,L,R=0,F=r.length,E=0,j=0,k=0,D=null,M=null,P=this.coordinateCache_,A=this.viewRotation_,N=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},Y=this.instructions!=r||this.overlaps?0:200;R<F;){var W=r[R];switch(W[0]){case y.BEGIN_GEOMETRY:C=W[1],L=W[3],C.getGeometry()?void 0===s||Object(O.F)(s,L.getExtent())?++R:R=W[2]+1:R=W[2];break;case y.BEGIN_PATH:j>Y&&(this.fill_(t),j=0),k>Y&&(t.stroke(),k=0),j||k||(t.beginPath(),f=NaN,d=NaN),++R;break;case y.CIRCLE:var X=l[E=W[1]],V=l[E+1],z=l[E+2]-X,U=l[E+3]-V,Z=Math.sqrt(z*z+U*U);t.moveTo(X+Z,V),t.arc(X,V,Z,0,2*Math.PI,!0),++R;break;case y.CLOSE_PATH:t.closePath(),++R;break;case y.CUSTOM:E=W[1],h=W[2];var J=W[3],K=W[4],tt=6==W.length?W[5]:void 0;B.geometry=J,B.feature=C,R in P||(P[R]=[]);var et=P[R];tt?tt(l,E,h,2,et):(et[0]=l[E],et[1]=l[E+1],et.length=2),K(et,B),++R;break;case y.DRAW_IMAGE:E=W[1],h=W[2],_=W[3],c=W[4],u=W[5];var it=W[6],rt=W[7],nt=W[8],st=W[9],at=W[10],lt=W[11],ht=W[12],ct=W[13],ut=W[14];if(!_&&W.length>=19){v=W[18],m=W[19],x=W[20],S=W[21];var ft=this.drawLabelWithPointPlacement_(v,m,x,S);_=ft.label,W[3]=_;var dt=W[22];c=(ft.anchorX-dt)*this.pixelRatio,W[4]=c;var pt=W[23];u=(ft.anchorY-pt)*this.pixelRatio,W[5]=u,it=_.height,W[6]=it,ct=_.width,W[13]=ct}var gt=void 0;W.length>24&&(gt=W[24]);var _t=void 0,yt=void 0,vt=void 0;W.length>16?(_t=W[15],yt=W[16],vt=W[17]):(_t=b.defaultPadding,yt=!1,vt=!1),at&&N?lt+=A:at||N||(lt-=A);for(var mt=0;E<h;E+=2)if(!(gt&&gt[mt++]<ct/this.pixelRatio)){var xt=[t,e,_,Ut=this.calculateImageOrLabelDimensions_(_.width,_.height,l[E],l[E+1],ct,it,c,u,nt,st,lt,ht,n,_t,yt||vt,C),rt,yt?D:null,vt?M:null],St=void 0,Ot=void 0;if(a&&ut){if(!ut[E]){ut[E]=xt;continue}if(St=ut[E],delete ut[E],Ot=ot(St),a.collides(Ot))continue}a&&a.collides(Ut.declutterBox)||(St&&(a&&a.insert(Ot),this.replayImageOrLabel_.apply(this,St)),a&&a.insert(Ut.declutterBox),this.replayImageOrLabel_.apply(this,xt))}++R;break;case y.DRAW_CHARS:var bt=W[1],Tt=W[2],Ct=W[3],It=W[4];S=W[5];var wt=W[6],Lt=W[7],Rt=W[8];x=W[9];var Ft=W[10];v=W[11],m=W[12];var Et=[W[13],W[13]],jt=this.textStates[m],kt=jt.font,Dt=[jt.scale[0]*Lt,jt.scale[1]*Lt],Mt=void 0;kt in this.widths_?Mt=this.widths_[kt]:(Mt={},this.widths_[kt]=Mt);var Pt=Object($.a)(l,bt,Tt,2),At=Math.abs(Dt[0])*Object(b.measureAndCacheTextWidth)(kt,v,Mt);if(It||At<=Pt){var Nt=this.textStates[m].textAlign,Gt=Q(l,bt,Tt,2,v,(Pt-At)*G[Nt],wt,Math.abs(Dt[0]),b.measureAndCacheTextWidth,kt,Mt,N?0:this.viewRotation_);t:if(Gt){var Bt=[],Yt=void 0,Wt=void 0,Xt=void 0,Vt=void 0,zt=void 0;if(x)for(Yt=0,Wt=Gt.length;Yt<Wt;++Yt){Xt=(zt=Gt[Yt])[4],Vt=this.createLabel(Xt,m,"",x),c=zt[2]+(Dt[0]<0?-Ft:Ft),u=Ct*Vt.height+2*(.5-Ct)*Ft*Dt[1]/Dt[0]-Rt;var Ut=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,zt[0],zt[1],Vt.width,Vt.height,c,u,0,0,zt[3],Et,!1,b.defaultPadding,!1,C);if(a&&a.collides(Ut.declutterBox))break t;Bt.push([t,e,Vt,Ut,1,null,null])}if(S)for(Yt=0,Wt=Gt.length;Yt<Wt;++Yt){Xt=(zt=Gt[Yt])[4],Vt=this.createLabel(Xt,m,S,""),c=zt[2],u=Ct*Vt.height-Rt;Ut=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,zt[0],zt[1],Vt.width,Vt.height,c,u,0,0,zt[3],Et,!1,b.defaultPadding,!1,C);if(a&&a.collides(Ut.declutterBox))break t;Bt.push([t,e,Vt,Ut,1,null,null])}a&&a.load(Bt.map(ot));for(var Zt=0,Jt=Bt.length;Zt<Jt;++Zt)this.replayImageOrLabel_.apply(this,Bt[Zt])}}++R;break;case y.END_GEOMETRY:if(void 0!==o){var Ht=o(C=W[1],L);if(Ht)return Ht}++R;break;case y.FILL:Y?j++:this.fill_(t),++R;break;case y.MOVE_TO_LINE_TO:for(E=W[1],h=W[2],I=l[E],g=(w=l[E+1])+.5|0,(p=I+.5|0)===f&&g===d||(t.moveTo(I,w),f=p,d=g),E+=2;E<h;E+=2)p=(I=l[E])+.5|0,g=(w=l[E+1])+.5|0,E!=h-2&&p===f&&g===d||(t.lineTo(I,w),f=p,d=g);++R;break;case y.SET_FILL_STYLE:D=W,this.alignFill_=W[2],j&&(this.fill_(t),j=0,k&&(t.stroke(),k=0)),t.fillStyle=W[1],++R;break;case y.SET_STROKE_STYLE:M=W,k&&(t.stroke(),k=0),this.setStrokeStyle_(t,W),++R;break;case y.STROKE:Y?k++:t.stroke(),++R;break;default:++R}}j&&this.fill_(t),k&&t.stroke()},t.prototype.execute=function(t,e,i,r,n,o){this.viewRotation_=r,this.execute_(t,e,i,this.instructions,n,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,i,r,n){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,n)},t}(),ht=i(324),ct=[U,W,z,V,Z,X],ut=function(){function t(t,e,i,r,n,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(H.c)(),this.createExecutors_(n)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var r=t[e],n=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in r){var s=r[o];i[o]=new lt(this.resolution_,this.pixelRatio_,this.overlaps_,s,n)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],r=0,n=t.length;r<n;++r)if(t[r]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n,o){var s=2*(r=Math.round(r))+1,a=Object(H.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Object(ht.a)(s,s));var h,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(h=Object(O.j)(),Object(O.r)(h,t),Object(O.c)(h,e*(this.renderBuffer_+r),h));var u,f=function(t){if(void 0!==ft[t])return ft[t];for(var e=2*t+1,i=t*t,r=new Array(i+1),n=0;n<=t;++n)for(var o=0;o<=t;++o){var s=n*n+o*o;if(s>i)break;var a=r[s];a||(a=[],r[s]=a),a.push(4*((t+n)*e+(t+o))+3),n>0&&a.push(4*((t-n)*e+(t+o))+3),o>0&&(a.push(4*((t+n)*e+(t-o))+3),n>0&&a.push(4*((t-n)*e+(t-o))+3))}for(var l=[],h=(n=0,r.length);n<h;++n)r[n]&&l.push.apply(l,r[n]);return ft[t]=l,l}(r);function d(t,e){for(var i=c.getImageData(0,0,s,s).data,a=0,l=f.length;a<l;a++)if(i[f[a]]>0){if(!o||u!==V&&u!==Z||-1!==o.indexOf(t)){var h=(f[a]-3)/4,d=r-h%s,p=r-(h/s|0),g=n(t,e,d*d+p*p);if(g)return g}c.clearRect(0,0,s,s);break}}var p,g,_,y,v,m=Object.keys(this.executorsByZIndex_).map(Number);for(m.sort(T.i),p=m.length-1;p>=0;--p){var x=m[p].toString();for(_=this.executorsByZIndex_[x],g=ct.length-1;g>=0;--g)if(void 0!==(y=_[u=ct[g]])&&(v=y.executeHitDetection(c,a,i,d,h)))return v}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],r=e[1],n=e[2],o=e[3],s=[i,r,i,o,n,o,n,r];return Object(q.c)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return Object(a.d)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,r,n,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(T.i),this.maxExtent_&&(t.save(),this.clip(t,i));var l,h,c,u,f,d,p=o||ct;for(s&&a.reverse(),l=0,h=a.length;l<h;++l){var g=a[l].toString();for(f=this.executorsByZIndex_[g],c=0,u=p.length;c<u;++c){void 0!==(d=f[p[c]])&&d.execute(t,e,i,r,n,s)}}this.maxExtent_&&t.restore()},t}(),ft={};var dt=ut,pt=i(477),gt=i(313),_t=i(328),yt="image",vt="hybrid",mt="vector",xt=i(398),St=i(340),Ot=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),bt=function(t){function e(e,i,r,n,o,s,a){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=i,l.extent_=r,l.transform_=n,l.viewRotation_=o,l.squaredTolerance_=s,l.userTransform_=a,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=Object(H.c)(),l}return Ot(e,t),e.prototype.drawImages_=function(t,e,i,r){if(this.image_){var n=Object(q.c)(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var h=0,c=n.length;h<c;h+=2){var u=n[h]-this.imageAnchorX_,f=n[h+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=u+this.imageAnchorX_,p=f+this.imageAnchorY_;Object(H.b)(s,d,p,1,1,l,-d,-p),o.setTransform.apply(o,s),o.translate(d,p),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,u,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=Object(q.c)(t,e,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=r){var a=n[e]+this.textOffsetX_,l=n[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var h=Object(H.b)(this.tmpLocalTransform_,a,l,1,1,s,-a,-l);o.setTransform.apply(o,h),o.translate(a,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,a,l),this.textFillState_&&o.fillText(this.text_,a,l)}}},e.prototype.moveToLineTo_=function(t,e,i,r,n){var o=this.context_,s=Object(q.c)(t,e,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;n&&(a-=2);for(var l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return n&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,r){for(var n=0,o=i.length;n<o;++n)e=this.moveToLineTo_(t,e,i[n],r,!0);return e},e.prototype.drawCircle=function(t){if(Object(O.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(St.b)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],r=e[3]-e[1],n=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case v.a.POINT:this.drawPoint(t);break;case v.a.LINE_STRING:this.drawLineString(t);break;case v.a.POLYGON:this.drawPolygon(t);break;case v.a.MULTI_POINT:this.drawMultiPoint(t);break;case v.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case v.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case v.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case v.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(O.F)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,r=e.length;i<r;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(O.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(O.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=t.getFlatCoordinates(),n=0,o=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,l=o.length;a<l;++a)n=this.moveToLineTo_(r,n,o[a],s,!1);i.stroke()}if(""!==this.text_){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(O.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(O.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),r=0,n=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=n.length;s<a;++s){var l=n[s];r=this.drawRings_(i,r,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(T.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:b.defaultTextAlign;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=r&&(i.textAlign=r,e.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:Object(S.a)(i||b.defaultFillStyle)}}else this.fillState_=null;if(e){var r=e.getColor(),n=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:b.defaultLineCap,lineDash:o||b.defaultLineDash,lineDashOffset:s||b.defaultLineDashOffset,lineJoin:void 0!==a?a:b.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:b.defaultLineWidth),miterLimit:void 0!==h?h:b.defaultMiterLimit,strokeStyle:Object(S.a)(r||b.defaultStrokeStyle)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var i=t.getAnchor(),r=t.getImage(1),n=t.getOrigin(),o=t.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=e[1],this.image_=r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*o[0],this.pixelRatio_*o[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(S.a)(i||b.defaultFillStyle)}}else this.textFillState_=null;var r=t.getStroke();if(r){var n=r.getColor(),o=r.getLineCap(),s=r.getLineDash(),a=r.getLineDashOffset(),l=r.getLineJoin(),h=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:b.defaultLineCap,lineDash:s||b.defaultLineDash,lineDashOffset:a||b.defaultLineDashOffset,lineJoin:void 0!==l?l:b.defaultLineJoin,lineWidth:void 0!==h?h:b.defaultLineWidth,miterLimit:void 0!==c?c:b.defaultMiterLimit,strokeStyle:Object(S.a)(n||b.defaultStrokeStyle)}}else this.textStrokeState_=null;var u=t.getFont(),f=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),g=t.getRotation(),_=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==u?u:b.defaultFont,textAlign:void 0!==v?v:b.defaultTextAlign,textBaseline:void 0!==m?m:b.defaultTextBaseline},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}else this.text_=""},e}(x),Tt=i(451),Ct=i(393);var It=i(358),wt={Point:function(t,e,i,r,n){var o,s=i.getImage(),a=i.getText();n&&(t=n,o=s&&a&&a.getText()?{}:void 0);if(s){if(s.getImageState()!=It.a.LOADED)return;var l=t.getBuilder(i.getZIndex(),V);l.setImageStyle(s,o),l.drawPoint(e,r)}if(a&&a.getText()){var h=t.getBuilder(i.getZIndex(),Z);h.setTextStyle(a,o),h.drawText(e,r)}},LineString:function(t,e,i,r,n){var o=i.getStroke();if(o){var s=t.getBuilder(i.getZIndex(),z);s.setFillStrokeStyle(null,o),s.drawLineString(e,r)}var a=i.getText();if(a&&a.getText()){var l=(n||t).getBuilder(i.getZIndex(),Z);l.setTextStyle(a),l.drawText(e,r)}},Polygon:function(t,e,i,r,n){var o=i.getFill(),s=i.getStroke();if(o||s){var a=t.getBuilder(i.getZIndex(),U);a.setFillStrokeStyle(o,s),a.drawPolygon(e,r)}var l=i.getText();if(l&&l.getText()){var h=(n||t).getBuilder(i.getZIndex(),Z);h.setTextStyle(l),h.drawText(e,r)}},MultiPoint:function(t,e,i,r,n){var o,s=i.getImage(),a=i.getText();n&&(t=n,o=s&&a&&a.getText()?{}:void 0);if(s){if(s.getImageState()!=It.a.LOADED)return;var l=t.getBuilder(i.getZIndex(),V);l.setImageStyle(s,o),l.drawMultiPoint(e,r)}if(a&&a.getText()){var h=(n||t).getBuilder(i.getZIndex(),Z);h.setTextStyle(a,o),h.drawText(e,r)}},MultiLineString:function(t,e,i,r,n){var o=i.getStroke();if(o){var s=t.getBuilder(i.getZIndex(),z);s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r)}var a=i.getText();if(a&&a.getText()){var l=(n||t).getBuilder(i.getZIndex(),Z);l.setTextStyle(a),l.drawText(e,r)}},MultiPolygon:function(t,e,i,r,n){var o=i.getFill(),s=i.getStroke();if(s||o){var a=t.getBuilder(i.getZIndex(),U);a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r)}var l=i.getText();if(l&&l.getText()){var h=(n||t).getBuilder(i.getZIndex(),Z);h.setTextStyle(l),h.drawText(e,r)}},GeometryCollection:function(t,e,i,r,n){var o,s,a=e.getGeometriesArray();for(o=0,s=a.length;o<s;++o){(0,wt[a[o].getType()])(t,a[o],i,r,n)}},Circle:function(t,e,i,r,n){var o=i.getFill(),s=i.getStroke();if(o||s){var a=t.getBuilder(i.getZIndex(),W);a.setFillStrokeStyle(o,s),a.drawCircle(e,r)}var l=i.getText();if(l&&l.getText()){var h=(n||t).getBuilder(i.getZIndex(),Z);h.setTextStyle(l),h.drawText(e,r)}}};function Lt(t,e){var i=function(t,e){return.5*t/e}(t,e);return i*i}function Rt(t,e,i,r,n,o,s){var a=!1,l=i.getImage();if(l){var h=l.getImageState();h==It.a.LOADED||h==It.a.ERROR?l.unlistenImageChange(n):(h==It.a.IDLE&&l.load(),h=l.getImageState(),l.listenImageChange(n),a=!0)}return function(t,e,i,r,n,o){var s=i.getGeometryFunction()(e);if(!s)return;var a=s.simplifyTransformed(r,n);if(i.getRenderer())!function t(e,i,r,n){if(i.getType()==v.a.GEOMETRY_COLLECTION){for(var o=i.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],r,n);return}e.getBuilder(r.getZIndex(),X).drawCustom(i,n,r.getRenderer())}(t,a,i,e);else{(0,wt[a.getType()])(t,a,i,e,o)}}(t,e,i,r,o,s),a}var Ft=i(321),Et=i(338),jt=i(348),kt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Dt={image:[U,W,z,V,Z],hybrid:[U,z],vector:[]},Mt={image:[X],hybrid:[V,Z,X],vector:[U,W,z,V,Z,X]},Pt=function(t){function e(e){var i=t.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.dirty_=!1,i.renderedLayerRevision_,i.renderedPixelToCoordinateTransform_=null,i.renderedRotation_,i.renderTileImageQueue_={},i.tileListenerKeys_={},i.tmpTransform_=Object(H.c)(),i}return kt(e,t),e.prototype.prepareTile=function(t,e,i,r){var n,o=Object(P.c)(t),s=t.getState();return(s===_t.a.LOADED&&t.hifi||s===_t.a.ERROR)&&o in this.tileListenerKeys_&&(Object(Ft.unlistenByKey)(this.tileListenerKeys_[o]),delete this.tileListenerKeys_[o]),s!==_t.a.LOADED&&s!==_t.a.ERROR||(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t,e,i)&&(n=!0,r&&(this.renderTileImageQueue_[o]=t))),n},e.prototype.getTile=function(e,i,r,n){var o=n.pixelRatio,s=n.viewState,a=s.resolution,l=s.projection,h=this.getLayer(),c=h.getSource().getTile(e,i,r,o,l);if(c.getState()<_t.a.LOADED){c.wantedResolution=a;var u=Object(P.c)(c);if(!(u in this.tileListenerKeys_)){var f=Object(Ft.listen)(c,gt.default.CHANGE,this.prepareTile.bind(this,c,o,l,!0));this.tileListenerKeys_[u]=f}}else{var d=n.viewHints;!!(d[xt.a.ANIMATING]||d[xt.a.INTERACTING])&&c.wantedResolution||(c.wantedResolution=a),this.prepareTile(c,o,l,!1)&&h.getRenderMode()!==mt&&this.renderTileImage_(c,n)}return t.prototype.getTile.call(this,e,i,r,n)},e.prototype.isDrawableTile=function(e){var i=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&(i.getRenderMode()===mt?Object(P.c)(i)in e.executorGroups:e.hasContext(i))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,i){var r=this.getLayer(),n=r.getRevision(),o=r.getRenderOrder()||null,s=t.wantedResolution,a=t.getReplayState(r);if(a.dirty||a.renderedResolution!==s||a.renderedRevision!=n||a.renderedRenderOrder!=o||a.renderedZ!==t.sourceZ){var l=r.getSource(),h=r.getDeclutter(),c=l.getTileGrid(),u=l.getTileGridForProjection(i).getTileCoordExtent(t.wrappedTileCoord),f=l.getSourceTiles(e,i,t),d=Object(P.c)(r);delete t.hitDetectionImageData[d],t.executorGroups[d]=[],h&&(t.declutterExecutorGroups[d]=[]);for(var p=function(i,n){var p=f[i];if(p.getState()!=_t.a.LOADED)return"continue";var _=p.tileCoord,y=c.getTileCoordExtent(_),v=Object(O.B)(u,y),m=Object(O.p)(y,v)?null:Object(O.c)(v,r.getRenderBuffer()*s,g.tmpExtent);a.dirty=!1;var x=new Y(0,v,s,e),S=h?new Y(0,v,s,e):void 0,b=Lt(s,e),T=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,s)),e){var n=this.renderFeature(t,b,e,x,S);this.dirty_=this.dirty_||n,a.dirty=a.dirty||n}},C=p.getFeatures();o&&o!==a.renderedRenderOrder&&C.sort(o);for(var I=0,w=C.length;I<w;++I){var L=C[I];m&&!Object(O.F)(m,L.getGeometry().getExtent())||T.call(g,L)}var R=x.finish(),F=r.getRenderMode()!==mt&&h&&1===f.length?null:v,E=new dt(F,s,e,l.getOverlaps(),R,r.getRenderBuffer());if(t.executorGroups[d].push(E),S){var j=new dt(F,s,e,l.getOverlaps(),S.finish(),r.getRenderBuffer());t.declutterExecutorGroups[d].push(j)}},g=this,_=0,y=f.length;_<y;++_)p(_);a.renderedRevision=n,a.renderedZ=t.sourceZ,a.renderedRenderOrder=o,a.renderedResolution=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n){var o=e.viewState.resolution,s=e.viewState.rotation;i=null==i?0:i;var a=this.getLayer(),l=a.getSource().getTileGridForProjection(e.viewState.projection),h=Object(O.b)([t]);Object(O.c)(h,o*i,h);for(var c,u={},f=function(t,e,i){var o=t.getId();void 0===o&&(o=Object(P.c)(t));var s=u[o];if(s){if(!0!==s&&i<s.distanceSq){if(0===i)return u[o]=!0,n.splice(n.lastIndexOf(s),1),r(t,a,e);s.geometry=e,s.distanceSq=i}}else{if(0===i)return u[o]=!0,r(t,a,e);n.push(u[o]={feature:t,layer:a,geometry:e,distanceSq:i,callback:r})}},d=this.renderedTiles,p=function(r,n){var u=d[r],p=l.getTileCoordExtent(u.wrappedTileCoord);if(!Object(O.F)(p,h))return"continue";var g=Object(P.c)(a),_=[u.executorGroups[g]],y=u.declutterExecutorGroups[g];y&&_.push(y),_.some((function(r){for(var n=r===y?e.declutterTree.all().map((function(t){return t.value})):null,a=0,l=r.length;a<l;++a){var h=r[a];if(c=h.forEachFeatureAtCoordinate(t,o,s,i,f,n))return!0}}))},g=0,_=d.length;!c&&g<_;++g)p(g);return c},e.prototype.getFeatures=function(t){return new Promise(function(e,i){for(var r,n=this.getLayer(),o=Object(P.c)(n),s=n.getSource(),a=this.renderedProjection,l=a.getExtent(),h=this.renderedResolution,c=s.getTileGridForProjection(a),u=Object(H.a)(this.renderedPixelToCoordinateTransform_,t.slice()),f=c.getTileCoordForCoordAndResolution(u,h),d=0,p=this.renderedTiles.length;d<p;++d)if(f.toString()===this.renderedTiles[d].tileCoord.toString()){if((r=this.renderedTiles[d]).getState()===_t.a.LOADED&&r.hifi){var g=c.getTileCoordExtent(r.tileCoord);s.getWrapX()&&a.canWrapX()&&!Object(O.g)(l,g)&&Object(jt.f)(u,a);break}r=void 0}if(!r||r.loadingSourceTiles>0)e([]);else{var _=c.getTileCoordExtent(r.wrappedTileCoord),y=Object(O.C)(_),m=[(u[0]-y[0])/h,(y[1]-u[1])/h],x=r.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),S=r.hitDetectionImageData[o];if(!S&&!this.animatingOrInteracting_){var b=Object(Et.c)(c.getTileSize(c.getZForResolution(h))),C=[b[0]/2,b[1]/2],I=this.renderedRotation_;S=function(t,e,i,r,n,o,s){var a=t[0]/2,l=t[1]/2,h=Object(ht.a)(a,l);h.imageSmoothingEnabled=!1;for(var c=h.canvas,u=new bt(h,.5,n,null,s),f=i.length,d=Math.floor(16777215/f),p={},g=1;g<=f;++g){var _=i[g-1],y=_.getStyleFunction()||r;if(r){var m=y(_,o);if(m){Array.isArray(m)||(m=[m]);for(var x="#"+("000000"+(g*d).toString(16)).slice(-6),S=0,b=m.length;S<b;++S){var C=m[S],I=C.clone(),w=I.getFill();w&&w.setColor(x);var L=I.getStroke();L&&L.setColor(x),I.setText(void 0);var R=C.getImage();if(R){var F=R.getImageSize();if(!F)continue;var E=document.createElement("canvas");E.width=F[0],E.height=F[1];var j=E.getContext("2d",{alpha:!1});j.fillStyle=x;var k=j.canvas;j.fillRect(0,0,k.width,k.height);var D=F?F[0]:k.width,M=F?F[1]:k.height;Object(ht.a)(D,M).drawImage(k,0,0),I.setImage(new Ct.default({img:k,imgSize:F,anchor:R.getAnchor(),anchorXUnits:Tt.a.PIXELS,anchorYUnits:Tt.a.PIXELS,offset:R.getOrigin(),size:R.getSize(),opacity:R.getOpacity(),scale:R.getScale(),rotation:R.getRotation(),rotateWithView:R.getRotateWithView()}))}var P=Number(I.getZIndex());(B=p[P])||(B={},p[P]=B,B[v.a.POLYGON]=[],B[v.a.CIRCLE]=[],B[v.a.LINE_STRING]=[],B[v.a.POINT]=[]);var A=I.getGeometryFunction()(_);A&&Object(O.F)(n,A.getExtent())&&B[A.getType().replace("Multi","")].push(A,I)}}}}for(var N=Object.keys(p).map(Number).sort(T.i),G=(g=0,N.length);g<G;++g){var B=p[N[g]];for(var Y in B){var W=B[Y];for(S=0,b=W.length;S<b;S+=2){u.setStyle(W[S+1]);for(var X=0,V=e.length;X<V;++X)u.setTransform(e[X]),u.drawGeometry(W[S])}}}return h.getImageData(0,0,c.width,c.height)}(b,[this.getRenderTransform(c.getTileCoordCenter(r.wrappedTileCoord),h,0,.5,C[0],C[1],0)],x,n.getStyleFunction(),c.getTileCoordExtent(r.wrappedTileCoord),r.getReplayState(n).renderedResolution,I),r.hitDetectionImageData[o]=S}e(function(t,e,i){var r=[];if(i){var n=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*i.width),o=i.data[n],s=i.data[n+1],a=i.data[n+2]+256*(s+256*o),l=Math.floor(16777215/e.length);a&&a%l==0&&r.push(e[a/l-1])}return r}(m,x,S))}}.bind(this))},e.prototype.handleFontsChanged=function(){Object(a.b)(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){for(var e=t.viewHints,i=!(e[xt.a.ANIMATING]||e[xt.a.INTERACTING]),r=this.renderedTiles,n=0,o=r.length;n<o;++n){var s=r[n],a=s.declutterExecutorGroups[Object(P.c)(this.getLayer())];if(a)for(var l=a.length-1;l>=0;--l)a[l].execute(this.context,1,this.getTileRenderTransform(s,t),t.viewState.rotation,i,void 0,t.declutterTree)}},e.prototype.getTileRenderTransform=function(t,e){var i=e.pixelRatio,r=e.viewState,n=r.center,o=r.resolution,s=r.rotation,a=e.size,l=Math.round(a[0]*i),h=Math.round(a[1]*i),c=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),u=t.tileCoord,f=c.getTileCoordExtent(t.wrappedTileCoord),d=c.getTileCoordExtent(u,this.tmpExtent)[0]-f[0];return Object(H.e)(Object(H.g)(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(n,o,s,i,l,h,d))},e.prototype.renderFrame=function(e,i){var r=e.viewHints,n=!(r[xt.a.ANIMATING]||r[xt.a.INTERACTING]);this.renderQueuedTileImages_(n,e),t.prototype.renderFrame.call(this,e,i),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var o=this.getLayer(),s=o.getRenderMode();if(s===yt)return this.container;var a=o.getSource(),l=e.usedTiles[Object(P.c)(a)];for(var h in this.renderTileImageQueue_)l&&h in l||delete this.renderTileImageQueue_[h];for(var c=this.context,u=Mt[s],f=e.viewState.rotation,d=this.renderedTiles,p=[],g=[],_=d.length-1;_>=0;--_)for(var y=d[_],v=this.getTileRenderTransform(y,e),m=y.executorGroups[Object(P.c)(o)],x=!1,S=0,O=m.length;S<O;++S){var b=m[S];if(b.hasExecutors(u)){var T=y.tileCoord[0],C=void 0;if(!x&&(C=b.getClipCoords(v))){c.save();for(var I=0,w=p.length;I<w;++I){var L=p[I];T<g[I]&&(c.beginPath(),c.moveTo(C[0],C[1]),c.lineTo(C[2],C[3]),c.lineTo(C[4],C[5]),c.lineTo(C[6],C[7]),c.moveTo(L[6],L[7]),c.lineTo(L[4],L[5]),c.lineTo(L[2],L[3]),c.lineTo(L[0],L[1]),c.clip())}}b.execute(c,1,v,f,n,u),!x&&C&&(c.restore(),p.push(C),g.push(T),x=!0)}}return this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var i in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var r=this.renderTileImageQueue_[i];delete this.renderTileImageQueue_[i],this.renderTileImage_(r,e)}},e.prototype.renderFeature=function(t,e,i,r,n){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=Rt(r,t,i[s],e,this.boundHandleStyleImageChange_,void 0,n)||o;else o=Rt(r,t,i,e,this.boundHandleStyleImageChange_,void 0,n);return o},e.prototype.tileImageNeedsRender_=function(t,e,i){var r=this.getLayer(),n=t.getReplayState(r),o=r.getRevision(),s=t.sourceZ,a=t.wantedResolution;return n.renderedTileResolution!==a||n.renderedTileRevision!==o||n.renderedTileZ!==s},e.prototype.renderTileImage_=function(t,e){var i=this.getLayer(),r=t.getReplayState(i),n=i.getRevision(),o=t.executorGroups[Object(P.c)(i)];r.renderedTileRevision=n,r.renderedTileZ=t.sourceZ;var s=t.wrappedTileCoord,a=s[0],l=i.getSource(),h=e.pixelRatio,c=e.viewState.projection,u=l.getTileGridForProjection(c),f=u.getResolution(t.tileCoord[0]),d=e.pixelRatio/t.wantedResolution*f,p=u.getResolution(a),g=t.getContext(i);h=Math.round(Math.max(h,d/h));var _=l.getTilePixelSize(a,h,c);g.canvas.width=_[0],g.canvas.height=_[1];var y=h/d;if(1!==y){var v=Object(H.f)(this.tmpTransform_);Object(H.g)(v,y,y),g.setTransform.apply(g,v)}var m=u.getTileCoordExtent(s,this.tmpExtent),x=d/p,S=Object(H.f)(this.tmpTransform_);Object(H.g)(S,x,-x),Object(H.j)(S,-m[0],-m[3]);for(var O=0,b=o.length;O<b;++O){o[O].execute(g,y,S,0,!0,Dt[i.getRenderMode()])}r.renderedTileResolution=t.wantedResolution},e}(pt.a),At=i(456),Nt=i(319),Gt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Bt=function(t){function e(e){var i=this,r=e||{},n=Object(a.a)({},r);delete n.preload,delete n.useInterimTilesOnError,i=t.call(this,n)||this;var o=r.renderMode||vt;return Object(Nt.a)(null==o||o==yt||o==vt||o==mt,28),i.renderMode_=o,i.setPreload(r.preload?r.preload:0),i.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),i}return Gt(e,t),e.prototype.createRenderer=function(){return new Pt(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(At.a.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(At.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(At.a.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(At.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(u);e.default=Bt},392:function(t,e,i){"use strict";i.r(e),i.d(e,"defaultLoadFunction",(function(){return I}));var r,n=i(313),o=i(389),s=i(328),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i,s)||this;return a.extent=null,a.format_=n,a.features_=null,a.loader_,a.projection=null,a.resolution,a.tileLoadFunction_=o,a.url_=r,a.key=r,a}return a(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.load=function(){this.state==s.a.IDLE&&(this.setState(s.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(s.a.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(s.a.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(o.a),h=i(409),c=i(476),u=i(324),f=i(317),d=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),p=[],g=function(t){function e(e,i,r,n){var o=t.call(this,e,i,{transition:0})||this;return o.context_={},o.executorGroups={},o.declutterExecutorGroups={},o.loadingSourceTiles=0,o.errorSourceTileKeys={},o.hitDetectionImageData={},o.replayState_={},o.sourceTiles=null,o.wantedResolution,o.getSourceTiles=n.bind(void 0,o),o.sourceZ=-1,o.hifi=!1,o.wrappedTileCoord=r,o}return d(e,t),e.prototype.getContext=function(t){var e=Object(f.c)(t);return e in this.context_||(this.context_[e]=Object(u.a)(1,1,p)),this.context_[e]},e.prototype.hasContext=function(t){return Object(f.c)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=Object(f.c)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_)p.push(this.context_[e].canvas),delete this.context_[e];t.prototype.release.call(this)},e}(o.a),_=i(312),y=i(388),v=i(314),m=i(350),x=i(460),S=(i(326),!1);function O(t,e,i,r,n,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(i,r,n):t,!0),e.getType()==x.a.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.withCredentials=S,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r=e.getType(),l=void 0;r==x.a.JSON||r==x.a.TEXT?l=a.responseText:r==x.a.XML?(l=a.responseXML)||(l=(new DOMParser).parseFromString(a.responseText,"application/xml")):r==x.a.ARRAY_BUFFER&&(l=a.response),l?o(e.readFeatures(l,{extent:i,featureProjection:n}),e.readProjection(l)):s()}else s()},a.onerror=s,a.send()}var b=i(338),T=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),C=function(t){function e(e){var i=this,r=e.projection||"EPSG:3857",n=e.extent||Object(y.c)(r),o=e.tileGrid||Object(y.b)({extent:n,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:r,state:e.state,tileGrid:o,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:I,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,i.loadingTiles_={},i.sourceTileCache=new h.a(i.tileCache.highWaterMark),i.overlaps_=null==e.overlaps||e.overlaps,i.tileClass=e.tileClass?e.tileClass:l,i.tileGrids_={},i}return T(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],i=this.tileCache;if(0===i.getCount())return e;var r=Object(m.b)(i.peekFirstKey())[0],n=this.tileGrid;return i.forEach((function(i){if(i.tileCoord[0]===r&&i.getState()===s.a.LOADED)for(var o=i.getSourceTiles(),a=0,l=o.length;a<l;++a){var h=o[a],c=h.tileCoord;if(Object(_.F)(t,n.getTileCoordExtent(c))){var u=h.getFeatures();if(u)for(var f=0,d=u.length;f<d;++f){var p=u[f],g=p.getGeometry();Object(_.F)(t,g.getExtent())&&e.push(p)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,i){t.prototype.expireCache.call(this,e,i),this.sourceTileCache.expireCache({})},e.prototype.getSourceTiles=function(t,e,i){var r=i.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(r),l=r[0],h=o.getResolution(l);Object(_.c)(a,-h,a);var c=this.tileGrid,u=c.getExtent();u&&Object(_.B)(a,u,a);var f,d,p,g=c.getZForResolution(h,1),y=c.getMinZoom(),m=i.sourceTiles;if(m&&m.length>0&&m[0].tileCoord[0]===g)f=m,d=!0,p=g;else{f=[],p=g+1;do{--p,d=!0,c.forEachTileCoord(a,p,function(r){var o,a=this.tileUrlFunction(r,t,e);if(void 0!==a)if(this.sourceTileCache.containsKey(a)){var l=(o=this.sourceTileCache.get(a)).getState();if(l===s.a.LOADED||l===s.a.ERROR||l===s.a.EMPTY)return void f.push(o)}else p===g&&((o=new this.tileClass(r,s.a.IDLE,a,this.format_,this.tileLoadFunction)).extent=c.getTileCoordExtent(r),o.projection=e,o.resolution=c.getResolution(r[0]),this.sourceTileCache.set(a,o),o.addEventListener(n.default.CHANGE,this.handleTileChange.bind(this)),o.load());d=d&&o&&o.getState()===s.a.LOADED,o&&o.getState()!==s.a.EMPTY&&i.getState()===s.a.IDLE&&(i.loadingSourceTiles++,o.addEventListener(n.default.CHANGE,(function t(){var e=o.getState(),r=o.getKey();if(e===s.a.LOADED||e===s.a.ERROR){e===s.a.LOADED?(o.removeEventListener(n.default.CHANGE,t),i.loadingSourceTiles--,delete i.errorSourceTileKeys[r]):e===s.a.ERROR&&(i.errorSourceTileKeys[r]=!0);var a=Object.keys(i.errorSourceTileKeys).length;i.loadingSourceTiles-a==0&&(i.hifi=0===a,i.sourceZ=g,i.setState(s.a.LOADED))}})))}.bind(this)),d||(f.length=0)}while(!d&&p>y)}return i.getState()===s.a.IDLE&&i.setState(s.a.LOADING),d&&(i.hifi=g===p,i.sourceZ=p,i.getState()<s.a.LOADED?i.setState(s.a.LOADED):m&&Object(v.b)(f,m)||(i.sourceTiles=f)),f},e.prototype.getTile=function(t,e,i,r,n){var o,a=Object(m.d)(t,e,i),l=this.getKey();if(this.tileCache.containsKey(a)&&(o=this.tileCache.get(a)).key===l)return o;var h=[t,e,i],c=this.getTileCoordForTileUrlFunction(h,n),u=this.getTileGrid().getExtent(),f=this.getTileGridForProjection(n);if(c&&u){var d=f.getTileCoordExtent(c);Object(_.c)(d,-f.getResolution(t),d),Object(_.F)(u,d)||(c=null)}var p=!0;if(null!==c){var y=this.tileGrid,v=f.getResolution(t),x=y.getZForResolution(v,1),S=f.getTileCoordExtent(c);Object(_.c)(S,-v,S),y.forEachTileCoord(S,x,function(t){p=p&&!this.tileUrlFunction(t,r,n)}.bind(this))}var O=new g(h,p?s.a.EMPTY:s.a.IDLE,c,this.getSourceTiles.bind(this,r,n));return O.key=l,o?(O.interimTile=o,O.refreshInterimChain(),this.tileCache.replace(a,O)):this.tileCache.set(a,O),O},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),i=this.tileGrids_[e];if(!i){var r=this.tileGrid;i=Object(y.a)(t,void 0,r?r.getTileSize(r.getMinZoom()):void 0),this.tileGrids_[e]=i}return i},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),n=Object(b.c)(r.getTileSize(t),this.tmpSize);return[Math.round(n[0]*e),Math.round(n[1]*e)]},e.prototype.updateCacheSize=function(e,i){t.prototype.updateCacheSize.call(this,2*e,i)},e}(c.a);e.default=C;function I(t,e){t.setLoader((function(i,r,n){O(e,t.getFormat(),i,r,n,t.onLoad.bind(t),t.onError.bind(t))}))}},393:function(t,e,i){"use strict";i.r(e);var r,n=i(313),o=i(451),s="bottom-left",a="bottom-right",l="top-left",h="top-right",c=i(358),u=i(453),f=i(368),d=i(319),p=i(356),g=i(324),_=i(452),y=i(478),v=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),m=null,x=function(t){function e(e,i,r,n,o,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==n&&(a.image_.crossOrigin=n),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=o,a.size_=r,a.src_=i,a.tainted_,a}return v(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===c.a.LOADED){m||(m=Object(g.a)(1,1)),m.drawImage(this.image_,0,0);try{m.getImageData(0,0,1,1),this.tainted_=!1}catch(t){m=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(n.default.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=c.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=c.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(g.a)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==c.a.IDLE){this.imageState_=c.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(y.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=Object(f.b)(this.color_),i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var r=i.getImageData(0,0,e.width,e.height),n=r.data,o=this.color_[0]/255,s=this.color_[1]/255,a=this.color_[2]/255,l=this.color_[3],h=0,c=n.length;h<c;h+=4)n[h]*=o,n[h+1]*=s,n[h+2]*=a,n[h+3]*=l;i.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(p.a);var S=i(317),O=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),b=function(t){function e(e){var i=this,r=e||{},n=void 0!==r.opacity?r.opacity:1,s=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,h=void 0!==r.rotateWithView&&r.rotateWithView;(i=t.call(this,{opacity:n,rotation:s,scale:a,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:h})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:l,i.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:o.a.FRACTION,i.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:o.a.FRACTION,i.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var u=void 0!==r.img?r.img:null,p=void 0!==r.imgSize?r.imgSize:null,g=r.src;Object(d.a)(!(void 0!==g&&u),4),Object(d.a)(!u||u&&p,5),void 0!==g&&0!==g.length||!u||(g=u.src||Object(S.c)(u)),Object(d.a)(void 0!==g&&g.length>0,6);var y=void 0!==r.src?c.a.IDLE:c.a.LOADED;return i.color_=void 0!==r.color?Object(f.a)(r.color):null,i.iconImage_=function(t,e,i,r,n,o){var s=_.a.get(e,r,o);return s||(s=new x(t,e,i,r,n,o),_.a.set(e,r,o,s)),s}(u,g,p,i.crossOrigin_,y,i.color_),i.offset_=void 0!==r.offset?r.offset:[0,0],i.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:l,i.origin_=null,i.size_=void 0!==r.size?r.size:null,i}return O(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==o.a.FRACTION||this.anchorYUnits_==o.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==o.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==o.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=l){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=h&&this.anchorOrigin_!=a||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=s&&this.anchorOrigin_!=a||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=l){var i=this.getSize(),r=this.iconImage_.getSize();if(!i||!r)return null;t=t.slice(),this.offsetOrigin_!=h&&this.offsetOrigin_!=a||(t[0]=r[0]-i[0]-t[0]),this.offsetOrigin_!=s&&this.offsetOrigin_!=a||(t[1]=r[1]-i[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(n.default.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(n.default.CHANGE,t)},e}(u.a);e.default=b},396:function(t,e,i){var r=i(2),n=i(325).trim,o=i(323),s=r.parseFloat,a=1/s(o+"-0")!=-1/0;t.exports=a?function(t){var e=n(String(t)),i=s(e);return 0===i&&"-"==e.charAt(0)?-0:i}:s},401:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a}));var r=i(314),n=i(316);function o(t,e,i,o,s,a,l){var h,c,u=(i-e)/o;if(1===u)h=e;else if(2===u)h=e,c=s;else if(0!==u){for(var f=t[e],d=t[e+1],p=0,g=[0],_=e+o;_<i;_+=o){var y=t[_],v=t[_+1];p+=Math.sqrt((y-f)*(y-f)+(v-d)*(v-d)),g.push(p),f=y,d=v}var m=s*p,x=Object(r.a)(g,m);x<0?(c=(m-g[-x-2])/(g[-x-1]-g[-x-2]),h=e+(-x-2)*o):h=e+x*o}var S=l>1?l:2,O=a||new Array(S);for(_=0;_<S;++_)O[_]=void 0===h?NaN:void 0===c?t[h+_]:Object(n.c)(t[h+_],t[h+o+_],c);return O}function s(t,e,i,r,o,s){if(i==e)return null;var a;if(o<t[e+r-1])return s?((a=t.slice(e,e+r))[r-1]=o,a):null;if(t[i-1]<o)return s?((a=t.slice(i-r,i))[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);for(var l=e/r,h=i/r;l<h;){var c=l+h>>1;o<t[(c+1)*r-1]?h=c:l=c+1}var u=t[l*r-1];if(o==u)return t.slice((l-1)*r,(l-1)*r+r);var f=(o-u)/(t[(l+1)*r-1]-u);a=[];for(var d=0;d<r-1;++d)a.push(Object(n.c)(t[(l-1)*r+d],t[l*r+d],f));return a.push(o),a}function a(t,e,i,r,n,o,a){if(a)return s(t,e,i[i.length-1],r,n,o);var l;if(n<t[r-1])return o?((l=t.slice(0,r))[r-1]=n,l):null;if(t[t.length-1]<n)return o?((l=t.slice(t.length-r))[r-1]=n,l):null;for(var h=0,c=i.length;h<c;++h){var u=i[h];if(e!=u){if(n<t[e+r-1])return null;if(n<=t[u-1])return s(t,e,u,r,n,!1);e=u}}return null}},425:function(t,e,i){"use strict";var r=i(0),n=i(34).every,o=i(32),s=i(17),a=o("every"),l=s("every");r({target:"Array",proto:!0,forced:!a||!l},{every:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},426:function(t,e,i){var r=i(0),n=i(513);r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},427:function(t,e,i){"use strict";var r=i(0),n=i(35),o=[].reverse,s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),o.call(this)}})},428:function(t,e,i){"use strict";var r=i(0),n=i(22),o=i(12),s=i(1),a=i(32),l=[],h=l.sort,c=s((function(){l.sort(void 0)})),u=s((function(){l.sort(null)})),f=a("sort");r({target:"Array",proto:!0,forced:c||!u||!f},{sort:function(t){return void 0===t?h.call(o(this)):h.call(o(this),n(t))}})},429:function(t,e,i){i(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},430:function(t,e,i){"use strict";var r=i(105),n=i(5),o=i(20),s=i(514),a=i(106);r("search",1,(function(t,e,i){return[function(e){var i=o(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,i):new RegExp(e)[t](String(i))},function(t){var r=i(e,t,this);if(r.done)return r.value;var o=n(t),l=String(this),h=o.lastIndex;s(h,0)||(o.lastIndex=0);var c=a(o,l);return s(o.lastIndex,h)||(o.lastIndex=h),null===c?-1:c.index}]}))},431:function(t,e,i){var r=i(432),n=i(433),o=i(382),s=i(435);t.exports=function(t){return r(t)||n(t)||o(t)||s()}},432:function(t,e,i){i(97),t.exports=function(t){if(Array.isArray(t))return t}},433:function(t,e,i){i(44),i(46),i(69),i(111),i(9),i(26),i(30),t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},434:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}},435:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},436:function(t,e,i){var r=i(515),n=i(433),o=i(382),s=i(516);t.exports=function(t){return r(t)||n(t)||o(t)||s()}},437:function(t,e,i){var r=i(432),n=i(517),o=i(382),s=i(435);t.exports=function(t,e){return r(t)||n(t,e)||o(t,e)||s()}},438:function(t,e,i){i(44),i(46),i(69),i(97),i(9),i(26),i(30);var r=i(382);t.exports=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=r(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw s}}}}},441:function(t,e,i){i(520),i(102),i(9),i(26),i(30);var r=i(439),n=i(397),o=i(523),s=i(524);function a(e){var i="function"==typeof Map?new Map:void 0;return t.exports=a=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return s(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n(e,t)},a(e)}t.exports=a},446:function(t,e,i){"use strict";e.a={POINT:"point",LINE:"line"}},447:function(t,e,i){"use strict";function r(t,e,i,r){for(var n=t[e],o=t[e+1],s=0,a=e+r;a<i;a+=r){var l=t[a],h=t[a+1];s+=Math.sqrt((l-n)*(l-n)+(h-o)*(h-o)),n=l,o=h}return s}i.d(e,"a",(function(){return r}))},451:function(t,e,i){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},453:function(t,e,i){"use strict";var r=i(317),n=i(338),o=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(n.c)(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Object(r.b)()},t.prototype.getImage=function(t){return Object(r.b)()},t.prototype.getHitDetectionImage=function(){return Object(r.b)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Object(r.b)()},t.prototype.getImageSize=function(){return Object(r.b)()},t.prototype.getHitDetectionImageSize=function(){return Object(r.b)()},t.prototype.getOrigin=function(){return Object(r.b)()},t.prototype.getSize=function(){return Object(r.b)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(n.c)(t)},t.prototype.listenImageChange=function(t){Object(r.b)()},t.prototype.load=function(){Object(r.b)()},t.prototype.unlistenImageChange=function(t){Object(r.b)()},t}();e.a=o},459:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(312);function n(t,e,i,n){for(var o=[],s=Object(r.j)(),a=0,l=i.length;a<l;++a){var h=i[a];s=Object(r.o)(t,e,h[0],n),o.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=h[h.length-1]}return o}},460:function(t,e,i){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},473:function(t,e,i){"use strict";var r=i(330),n=i(317),o=i(315),s=i(318),a=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var i;if(e){var n=e.dataProjection?Object(s.get)(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===r.b.TILE_PIXELS&&(n=Object(s.get)(n)).setWorldExtent(e.extent),i={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(i)},t.prototype.adaptOptions=function(t){return Object(o.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(n.b)()},t.prototype.readFeature=function(t,e){return Object(n.b)()},t.prototype.readFeatures=function(t,e){return Object(n.b)()},t.prototype.readGeometry=function(t,e){return Object(n.b)()},t.prototype.readProjection=function(t){return Object(n.b)()},t.prototype.writeFeature=function(t,e){return Object(n.b)()},t.prototype.writeFeatures=function(t,e){return Object(n.b)()},t.prototype.writeGeometry=function(t,e){return Object(n.b)()},t}();var l,h=i(460),c=i(349),u=i(320),f=i(340),d=i(375),p=i(312),g=i(351),_=i(357),y=i(314),v=i(461),m=i(346),x=i(401),S=i(390),O=i(447),b=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),T=function(t){function e(e,i){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return b(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(y.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(p.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,r))},e.prototype.forEachSegment=function(t){return Object(v.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=c.a.XYM&&this.layout!=c.a.XYZM)return null;var i=void 0!==e&&e;return Object(x.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(x.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Object(O.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,c.a.XY)},e.prototype.getType=function(){return u.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(S.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(g.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(f.a),C=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),I=function(t){function e(e,i,r){var n=t.call(this)||this;if(n.ends_=[],n.maxDelta_=-1,n.maxDeltaRevision_=-1,Array.isArray(e[0]))n.setCoordinates(e,i);else if(void 0!==i&&r)n.setFlatCoordinates(i,e),n.ends_=r;else{for(var o=n.getLayout(),s=e,a=[],l=[],h=0,c=s.length;h<c;++h){var u=s[h];0===h&&(o=u.getLayout()),Object(y.c)(a,u.getFlatCoordinates()),l.push(a.length)}n.setFlatCoordinates(o,a),n.ends_=l}return n}return C(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(y.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(p.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,r))},e.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=c.a.XYM&&this.layout!=c.a.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,n=void 0!==i&&i;return Object(x.c)(this.flatCoordinates,0,this.ends_,this.stride,t,r,n)},e.prototype.getCoordinates=function(){return Object(m.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new T(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,r=[],n=0,o=0,s=e.length;o<s;++o){var a=e[o],l=new T(t.slice(n,a),i);r.push(l),n=a}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,r=this.ends_,n=this.stride,o=0,s=r.length;o<s;++o){var a=r[o],l=Object(x.a)(e,i,a,n,.5);Object(y.c)(t,l),i=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=Object(_.b)(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,r),new e(i,c.a.XY,r)},e.prototype.getType=function(){return u.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(S.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(g.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(f.a),w=i(405),L=i(316),R=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),F=function(t){function e(e,i){var r=t.call(this)||this;return i&&!Array.isArray(e[0])?r.setFlatCoordinates(i,e):r.setCoordinates(e,i),r}return R(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(y.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,r){if(r<Object(p.e)(this.getExtent(),t,e))return r;for(var n=this.flatCoordinates,o=this.stride,s=0,a=n.length;s<a;s+=o){var l=Object(L.g)(t,e,n[s],n[s+1]);if(l<r){r=l;for(var h=0;h<o;++h)i[h]=n[s+h];i.length=o}}return r},e.prototype.getCoordinates=function(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new w.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,r=[],n=0,o=t.length;n<o;n+=i){var s=new w.a(t.slice(n,n+i),e);r.push(s)}return r},e.prototype.getType=function(){return u.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,r=0,n=e.length;r<n;r+=i){var o=e[r],s=e[r+1];if(Object(p.h)(t,o,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(g.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(f.a),E=i(395),j=i(400),k=i(408),D=i(404),M=i(459),P=i(387),A=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),N=function(t){function e(e,i,r){var n=t.call(this)||this;if(n.endss_=[],n.flatInteriorPointsRevision_=-1,n.flatInteriorPoints_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=n.getLayout(),s=e,a=[],l=[],h=0,c=s.length;h<c;++h){var u=s[h];0===h&&(o=u.getLayout());for(var f=a.length,d=u.getEnds(),p=0,g=d.length;p<g;++p)d[p]+=f;Object(y.c)(a,u.getFlatCoordinates()),l.push(d)}i=o,e=a,r=l}return void 0!==i&&r?(n.setFlatCoordinates(i,e),n.endss_=r):n.setCoordinates(e,i),n}return A(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;Object(y.c)(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,n=(e=t.getEnds().slice()).length;r<n;++r)e[r]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),r=0;r<t;++r)i[r]=this.endss_[r].slice();var n=new e(this.flatCoordinates.slice(),this.layout,i);return n.applyProperties(this),n},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(p.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,r))},e.prototype.containsXY=function(t,e){return Object(P.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(D.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(k.e)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(m.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Object(M.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(j.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new F(this.getFlatInteriorPoints().slice(),c.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(k.c)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(k.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=Object(_.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,r),new e(i,c.a.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var r=this.endss_[t].slice(),n=r[r.length-1];if(0!==e)for(var o=0,s=r.length;o<s;++o)r[o]-=e;return new E.a(this.flatCoordinates.slice(e,n),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,r=[],n=0,o=0,s=i.length;o<s;++o){var a=i[o].slice(),l=a[a.length-1];if(0!==n)for(var h=0,c=a.length;h<c;++h)a[h]-=n;var u=new E.a(e.slice(n,l),t,a);r.push(u),n=l}return r},e.prototype.getType=function(){return u.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(S.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(g.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var r=i[i.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(f.a),G=i(527),B=i.n(G),Y=i(359),W=i(373),X=i(319),V=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),z=function(t){function e(e){var i=t.call(this)||this,n=e||{};return i.dataProjection=new Y.a({code:"",units:r.b.TILE_PIXELS}),i.featureClass_=n.featureClass?n.featureClass:W.default,i.geometryName_=n.geometryName,i.layerName_=n.layerName?n.layerName:"layer",i.layers_=n.layers?n.layers:null,i.idProperty_=n.idProperty,i}return V(e,t),e.prototype.readRawGeometry_=function(t,e,i,r){t.pos=e.geometry;for(var n=t.readVarint()+t.pos,o=1,s=0,a=0,l=0,h=0,c=0;t.pos<n;){if(!s){var u=t.readVarint();o=7&u,s=u>>3}s--,1===o||2===o?(a+=t.readSVarint(),l+=t.readSVarint(),1===o&&h>c&&(r.push(h),c=h),i.push(a,l),h+=2):7===o?h>c&&(i.push(i[c],i[c+1]),h+=2):Object(X.a)(!1,59)}h>c&&(r.push(h),c=h)},e.prototype.createFeature_=function(t,e,i){var r,n=e.type;if(0===n)return null;var o,a=e.properties;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=e.id,a[this.layerName_]=e.layer.name;var l=[],h=[];this.readRawGeometry_(t,e,l,h);var f=function(t,e){var i;1===t?i=1===e?u.a.POINT:u.a.MULTI_POINT:2===t?i=1===e?u.a.LINE_STRING:u.a.MULTI_LINE_STRING:3===t&&(i=u.a.POLYGON);return i}(n,h.length);if(this.featureClass_===W.default)(r=new this.featureClass_(f,l,h,a,o)).transform(i.dataProjection);else{var d=void 0;if(f==u.a.POLYGON){for(var p=[],g=0,_=0,y=0,v=h.length;y<v;++y){var m=h[y];if(Object(k.a)(l,g,m,2)){if(0===p.length)continue;p[p.length-1].push(h[_])}else p.push(h.slice(_,y+1));_=y+1,g=m}d=p.length>1?new N(l,c.a.XY,p):new E.a(l,c.a.XY,h)}else d=f===u.a.POINT?new w.a(l,c.a.XY):f===u.a.LINE_STRING?new T(l,c.a.XY):f===u.a.POLYGON?new E.a(l,c.a.XY,h):f===u.a.MULTI_POINT?new F(l,c.a.XY):f===u.a.MULTI_LINE_STRING?new I(l,c.a.XY,h):null;r=new(0,this.featureClass_),this.geometryName_&&r.setGeometryName(this.geometryName_);var x=function(t,e,i){var r,n=i?Object(s.get)(i.featureProjection):null,o=i?Object(s.get)(i.dataProjection):null;if(r=n&&o&&!Object(s.equivalent)(n,o)?(e?t.clone():t).transform(e?n:o,e?o:n):t,e&&i&&void 0!==i.decimals){var a=Math.pow(10,i.decimals);r===t&&(r=t.clone()),r.applyTransform((function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r}(d,!1,i);r.setGeometry(x),r.setId(o),r.setProperties(a,!0)}return r},e.prototype.getType=function(){return h.a.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var i=this.layers_,r=this.adaptOptions(e),n=Object(s.get)(r.dataProjection);n.setWorldExtent(r.extent),r.dataProjection=n;var o=new B.a(t),a=o.readFields(U,{}),l=[];for(var h in a)if(!i||-1!=i.indexOf(h)){var c=a[h],u=c?[0,0,c.extent,c.extent]:null;n.setExtent(u);for(var f=0,d=c.length;f<d;++f){var p=H(o,c,f);l.push(this.createFeature_(o,p,r))}}return l},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(a);function U(t,e,i){if(3===t){var r={keys:[],values:[],features:[]},n=i.readVarint()+i.pos;i.readFields(Z,r,n),r.length=r.features.length,r.length&&(e[r.name]=r)}}function Z(t,e,i){if(15===t)e.version=i.readVarint();else if(1===t)e.name=i.readString();else if(5===t)e.extent=i.readVarint();else if(2===t)e.features.push(i.pos);else if(3===t)e.keys.push(i.readString());else if(4===t){for(var r=null,n=i.readVarint()+i.pos;i.pos<n;)r=1===(t=i.readVarint()>>3)?i.readString():2===t?i.readFloat():3===t?i.readDouble():4===t?i.readVarint64():5===t?i.readVarint():6===t?i.readSVarint():7===t?i.readBoolean():null;e.values.push(r)}}function J(t,e,i){if(1==t)e.id=i.readVarint();else if(2==t)for(var r=i.readVarint()+i.pos;i.pos<r;){var n=e.layer.keys[i.readVarint()],o=e.layer.values[i.readVarint()];e.properties[n]=o}else 3==t?e.type=i.readVarint():4==t&&(e.geometry=i.pos)}function H(t,e,i){t.pos=e.features[i];var r=t.readVarint()+t.pos,n={layer:e,type:0,properties:{}};return t.readFields(J,n,r),n}e.a=z},513:function(t,e,i){"use strict";var r=i(14),n=i(47),o=i(10),s=i(32),a=i(17),l=Math.min,h=[].lastIndexOf,c=!!h&&1/[1].lastIndexOf(1,-0)<0,u=s("lastIndexOf"),f=a("indexOf",{ACCESSORS:!0,1:0}),d=c||!u||!f;t.exports=d?function(t){if(c)return h.apply(this,arguments)||0;var e=r(this),i=o(e.length),s=i-1;for(arguments.length>1&&(s=l(s,n(arguments[1]))),s<0&&(s=i+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:h},514:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},515:function(t,e,i){i(97);var r=i(434);t.exports=function(t){if(Array.isArray(t))return r(t)}},516:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},517:function(t,e,i){i(44),i(46),i(69),i(9),i(26),i(30),t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],r=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);r=!0);}catch(t){n=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return i}}},520:function(t,e,i){"use strict";var r=i(521),n=i(522);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},521:function(t,e,i){"use strict";var r=i(0),n=i(2),o=i(101),s=i(11),a=i(184),l=i(182),h=i(181),c=i(4),u=i(1),f=i(115),d=i(51),p=i(354);t.exports=function(t,e,i){var g=-1!==t.indexOf("Map"),_=-1!==t.indexOf("Weak"),y=g?"set":"add",v=n[t],m=v&&v.prototype,x=v,S={},O=function(t){var e=m[t];s(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(_&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return _&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(_&&!c(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(o(t,"function"!=typeof v||!(_||m.forEach&&!u((function(){(new v).entries().next()})))))x=i.getConstructor(e,t,g,y),a.REQUIRED=!0;else if(o(t,!0)){var b=new x,T=b[y](_?{}:-0,1)!=b,C=u((function(){b.has(1)})),I=f((function(t){new v(t)})),w=!_&&u((function(){for(var t=new v,e=5;e--;)t[y](e,e);return!t.has(-0)}));I||((x=e((function(e,i){h(e,x,t);var r=p(new v,e,x);return null!=i&&l(i,r[y],{that:r,AS_ENTRIES:g}),r}))).prototype=m,m.constructor=x),(C||w)&&(O("delete"),O("has"),g&&O("get")),(w||T)&&O(y),_&&m.clear&&delete m.clear}return S[t]=x,r({global:!0,forced:x!=v},S),d(x,t),_||i.setStrong(x,t,g),x}},522:function(t,e,i){"use strict";var r=i(8).f,n=i(31),o=i(186),s=i(52),a=i(181),l=i(182),h=i(114),c=i(180),u=i(6),f=i(184).fastKey,d=i(33),p=d.set,g=d.getterFor;t.exports={getConstructor:function(t,e,i,h){var c=t((function(t,r){a(t,c,e),p(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),u||(t.size=0),null!=r&&l(r,t[h],{that:t,AS_ENTRIES:i})})),d=g(e),_=function(t,e,i){var r,n,o=d(t),s=y(t,e);return s?s.value=i:(o.last=s={index:n=f(e,!0),key:e,value:i,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),u?o.size++:t.size++,"F"!==n&&(o.index[n]=s)),t},y=function(t,e){var i,r=d(t),n=f(e);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key==e)return i};return o(c.prototype,{clear:function(){for(var t=d(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,u?t.size=0:this.size=0},delete:function(t){var e=d(this),i=y(this,t);if(i){var r=i.next,n=i.previous;delete e.index[i.index],i.removed=!0,n&&(n.next=r),r&&(r.previous=n),e.first==i&&(e.first=r),e.last==i&&(e.last=n),u?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=d(this),r=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),o(c.prototype,i?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return _(this,0===t?0:t,e)}}:{add:function(t){return _(this,t=0===t?0:t,t)}}),u&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(t,e,i){var r=e+" Iterator",n=g(e),o=g(r);h(t,e,(function(t,e){p(this,{type:r,target:t,state:n(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),c(e)}}},523:function(t,e,i){i(175),i(100),i(9),i(98),t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},524:function(t,e,i){i(366),i(107);var r=i(397),n=i(440);function o(e,i,s){return n()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,i){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return i&&r(o,i.prototype),o},o.apply(null,arguments)}t.exports=o},525:function(t,e,i){t.exports=function(){"use strict";function t(t,r,n,o,s){!function t(i,r,n,o,s){for(;o>n;){if(o-n>600){var a=o-n+1,l=r-n+1,h=Math.log(a),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(a-c)/a)*(l-a/2<0?-1:1);t(i,r,Math.max(n,Math.floor(r-l*c/a+u)),Math.min(o,Math.floor(r+(a-l)*c/a+u)),s)}var f=i[r],d=n,p=o;for(e(i,n,r),s(i[o],f)>0&&e(i,n,o);d<p;){for(e(i,d,p),d++,p--;s(i[d],f)<0;)d++;for(;s(i[p],f)>0;)p--}0===s(i[n],f)?e(i,n,p):e(i,++p,o),p<=r&&(n=p+1),r<=p&&(o=p-1)}}(t,r,n||0,o||t.length-1,s||i)}function e(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function i(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,r,n){n||(n=p(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o=e;o<i;o++){var s=t.children[o];a(n,t.leaf?r(s):s)}return n}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,i,r,n,o){for(var s=[i,r];s.length;)if(!((r=s.pop())-(i=s.pop())<=n)){var a=i+Math.ceil((r-i)/n/2)*n;t(e,a,i,r,o),s.push(i,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,i=[];if(!d(t,e))return i;for(var r=this.toBBox,n=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;d(t,a)&&(e.leaf?i.push(s):f(t,a)?this._all(s,i):n.push(s))}e=n.pop()}return i},r.prototype.collides=function(t){var e=this.data;if(!d(t,e))return!1;for(var i=[];e;){for(var r=0;r<e.children.length;r++){var n=e.children[r],o=e.leaf?this.toBBox(n):n;if(d(t,o)){if(e.leaf||f(t,o))return!0;i.push(n)}}e=i.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var i,r,o,s=this.data,a=this.toBBox(t),l=[],h=[];s||l.length;){if(s||(s=l.pop(),r=l[l.length-1],i=h.pop(),o=!0),s.leaf){var c=n(t,s.children,e);if(-1!==c)return s.children.splice(c,1),l.push(s),this._condense(l),this}o||s.leaf||!f(s,a)?r?(i++,s=r.children[i],o=!1):s=null:(l.push(s),h.push(i),i=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},r.prototype._build=function(t,e,i,r){var n,s=i-e+1,a=this._maxEntries;if(s<=a)return o(n=p(t.slice(e,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(n=p([])).leaf=!1,n.height=r;var l=Math.ceil(s/a),h=l*Math.ceil(Math.sqrt(a));g(t,e,i,h,this.compareMinX);for(var c=e;c<=i;c+=h){var u=Math.min(c+h-1,i);g(t,c,u,l,this.compareMinY);for(var f=c;f<=u;f+=l){var d=Math.min(f+l-1,u);n.children.push(this._build(t,f,d,r-1))}}return o(n,this.toBBox),n},r.prototype._chooseSubtree=function(t,e,i,r){for(;r.push(e),!e.leaf&&r.length-1!==i;){for(var n=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],h=c(l),u=(f=t,d=l,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-h);u<o?(o=u,n=h<n?h:n,s=l):u===o&&h<n&&(n=h,s=l)}e=s||e.children[0]}var f,d;return e},r.prototype._insert=function(t,e,i){var r=i?t:this.toBBox(t),n=[],o=this._chooseSubtree(r,this.data,e,n);for(o.children.push(t),a(o,r);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(r,n,e)},r.prototype._split=function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),a=p(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},r.prototype._splitRoot=function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,i){for(var r,n,o,a,l,h,u,f=1/0,d=1/0,p=e;p<=i-e;p++){var g=s(t,0,p,this.toBBox),_=s(t,p,i,this.toBBox),y=(n=g,o=_,a=Math.max(n.minX,o.minX),l=Math.max(n.minY,o.minY),h=Math.min(n.maxX,o.maxX),u=Math.min(n.maxY,o.maxY),Math.max(0,h-a)*Math.max(0,u-l)),v=c(g)+c(_);y<f?(f=y,r=p,d=v<d?v:d):y===f&&v<d&&(d=v,r=p)}return r||i-e},r.prototype._chooseSplitAxis=function(t,e,i){var r=t.leaf?this.compareMinX:l,n=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,n)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,i,r){t.children.sort(r);for(var n=this.toBBox,o=s(t,0,e,n),l=s(t,i-e,i,n),h=u(o)+u(l),c=e;c<i-e;c++){var f=t.children[c];a(o,t.leaf?n(f):f),h+=u(o)}for(var d=i-e-1;d>=e;d--){var p=t.children[d];a(l,t.leaf?n(p):p),h+=u(l)}return h},r.prototype._adjustParentBBoxes=function(t,e,i){for(var r=i;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},527:function(t,e,i){"use strict";t.exports=n;var r=i(528);function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var o="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function s(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function l(t,e,i){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(r);for(var n=i.pos-1;n>=t;n--)i.buf[n+r]=i.buf[n]}function h(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function c(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function u(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function d(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function p(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function g(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function _(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function y(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function m(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var r=this.readVarint(),n=r>>3,o=this.pos;this.type=7&r,t(n,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=v(this.buf,this.pos)+4294967296*x(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,r=this.buf;return e=127&(i=r[this.pos++]),i<128?e:(e|=(127&(i=r[this.pos++]))<<7,i<128?e:(e|=(127&(i=r[this.pos++]))<<14,i<128?e:(e|=(127&(i=r[this.pos++]))<<21,i<128?e:function(t,e,i){var r,n,o=i.buf;if(n=o[i.pos++],r=(112&n)>>4,n<128)return a(t,r,e);if(n=o[i.pos++],r|=(127&n)<<3,n<128)return a(t,r,e);if(n=o[i.pos++],r|=(127&n)<<10,n<128)return a(t,r,e);if(n=o[i.pos++],r|=(127&n)<<17,n<128)return a(t,r,e);if(n=o[i.pos++],r|=(127&n)<<24,n<128)return a(t,r,e);if(n=o[i.pos++],r|=(1&n)<<31,n<128)return a(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&o?function(t,e,i){return o.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){var r="",n=e;for(;n<i;){var o,s,a,l=t[n],h=null,c=l>239?4:l>223?3:l>191?2:1;if(n+c>i)break;1===c?l<128&&(h=l):2===c?128==(192&(o=t[n+1]))&&(h=(31&l)<<6|63&o)<=127&&(h=null):3===c?(o=t[n+1],s=t[n+2],128==(192&o)&&128==(192&s)&&((h=(15&l)<<12|(63&o)<<6|63&s)<=2047||h>=55296&&h<=57343)&&(h=null)):4===c&&(o=t[n+1],s=t[n+2],a=t[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&((h=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||h>=1114112)&&(h=null)),null===h?(h=65533,c=1):h>65535&&(h-=65536,r+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),r+=String.fromCharCode(h),n+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==n.Bytes)return t.push(this.readVarint(e));var i=s(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==n.Bytes)return t.push(this.readSVarint());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==n.Bytes)return t.push(this.readBoolean());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==n.Bytes)return t.push(this.readFloat());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==n.Bytes)return t.push(this.readDouble());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed32());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed32());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed64());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed64());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,r;t>=0?(i=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,r=r+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}(i,0,e),function(t,e){var i=(7&t)<<4;if(e.buf[e.pos++]|=i|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var r,n,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!n){r>56319||o+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):n=r;continue}if(r<56320){t[i++]=239,t[i++]=191,t[i++]=189,n=r;continue}r=n-55296<<10|r-56320|65536,n=null}else n&&(t[i++]=239,t[i++]=191,t[i++]=189,n=null);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:(r<65536?t[i++]=r>>12|224:(t[i++]=r>>18|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128),t[i++]=63&r|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&l(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var r=this.pos-i;r>=128&&l(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,i){this.writeTag(t,n.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,_,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},528:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,r,n){var o,s,a=8*n-r-1,l=(1<<a)-1,h=l>>1,c=-7,u=i?n-1:0,f=i?-1:1,d=t[e+u];for(u+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+u],u+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+u],u+=f,c-=8);if(0===o)o=1-h;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=h}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,i,r,n,o){var s,a,l,h=8*o-n-1,c=(1<<h)-1,u=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+u>=1?f/l:f*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=c?(a=0,s=c):s+u>=1?(a=(e*l-1)*Math.pow(2,n),s+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,n),s=0));n>=8;t[i+d]=255&a,d+=p,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;t[i+d]=255&s,d+=p,s/=256,h-=8);t[i+d-p]|=128*g}}}]);