(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{355:function(t,e,r){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r(173),t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},362:function(t,e,r){"use strict";r.r(e),r.d(e,"optionsFromCapabilities",(function(){return h}));var n=r(407),i="KVP",o="REST";function a(t,e){var r=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&r.push(t+"="+encodeURIComponent(e[t]))}));var n=r.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}var u,c=r(315),s=r(376),l=r(403),f=r(318),p=r(314),d=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),v=function(t){function e(e){var r=this,n=void 0!==e.requestEncoding?e.requestEncoding:i,o=e.tileGrid,a=e.urls;return void 0===a&&void 0!==e.url&&(a=Object(l.c)(e.url)),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:a,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition})||this).version_=void 0!==e.version?e.version:"1.0.0",r.format_=void 0!==e.format?e.format:"image/jpeg",r.dimensions_=void 0!==e.dimensions?e.dimensions:{},r.layer_=e.layer,r.matrixSet_=e.matrixSet,r.style_=e.style,r.requestEncoding_=n,r.setKey(r.getKeyForDimensions_()),a&&a.length>0&&(r.tileUrlFunction=Object(l.b)(a.map(r.createFromWMTSTemplate.bind(r)))),r}return d(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(Object(l.b)(t.map(this.createFromWMTSTemplate.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var r in this.dimensions_)e[t++]=r+"-"+this.dimensions_[r];return e.join("/")},e.prototype.updateDimensions=function(t){Object(c.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==i&&Object(c.a)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==i?a(t,r):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}));var n=this.tileGrid,o=this.dimensions_;return function(r,u,s){if(r){var l={TileMatrix:n.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};Object(c.a)(l,o);var f=t;return f=e==i?a(f,l):f.replace(/\{(\w+?)\}/g,(function(t,e){return l[e]}))}}},e}(n.a);e.default=v;function h(t,e){var r=t.Contents.Layer,n=Object(p.d)(r,(function(t,r,n){return t.Identifier==e.layer}));if(null===n)return null;var a,u=t.Contents.TileMatrixSet;(a=n.TileMatrixSetLink.length>1?"projection"in e?Object(p.e)(n.TileMatrixSetLink,(function(t,r,n){var i=Object(p.d)(u,(function(e){return e.Identifier==t.TileMatrixSet})).SupportedCRS,o=Object(f.get)(i),a=Object(f.get)(e.projection);return o&&a?Object(f.equivalent)(o,a):i==e.projection})):Object(p.e)(n.TileMatrixSetLink,(function(t,r,n){return t.TileMatrixSet==e.matrixSet})):0)<0&&(a=0);var c=n.TileMatrixSetLink[a].TileMatrixSet,l=n.TileMatrixSetLink[a].TileMatrixSetLimits,d=n.Format[0];"format"in e&&(d=e.format),(a=Object(p.e)(n.Style,(function(t,r,n){return"style"in e?t.Title==e.style:t.isDefault})))<0&&(a=0);var v=n.Style[a].Identifier,h={};"Dimension"in n&&n.Dimension.forEach((function(t,e,r){var n=t.Identifier,i=t.Default;void 0===i&&(i=t.Value[0]),h[n]=i}));var m,g=t.Contents.TileMatrixSet,y=Object(p.d)(g,(function(t,e,r){return t.Identifier==c})),T=y.SupportedCRS;if(T&&(m=Object(f.get)(T)),"projection"in e){var x=Object(f.get)(e.projection);x&&(m&&!Object(f.equivalent)(x,m)||(m=x))}var S="ne"==m.getAxisOrientation().substr(0,2),b=y.TileMatrix[0],_={MinTileCol:0,MinTileRow:0,MaxTileCol:b.MatrixWidth-1,MaxTileRow:b.MatrixHeight-1};if(l){_=l[l.length-1];var O=Object(p.d)(y.TileMatrix,(function(t){return t.Identifier===_.TileMatrix||y.Identifier+":"+t.Identifier===_.TileMatrix}));O&&(b=O)}var M=28e-5*b.ScaleDenominator/m.getMetersPerUnit(),w=S?[b.TopLeftCorner[1],b.TopLeftCorner[0]]:b.TopLeftCorner,j=b.TileWidth*M,C=b.TileHeight*M,I=[w[0]+j*_.MinTileCol,w[1]-C*(1+_.MaxTileRow),w[0]+j*(1+_.MaxTileCol),w[1]-C*_.MinTileRow];null===m.getExtent()&&m.setExtent(I);var E=Object(s.createFromCapabilitiesMatrixSet)(y,I,l),D=[],F=e.requestEncoding;if(F=void 0!==F?F:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var L=t.OperationsMetadata.GetTile.DCP.HTTP.Get,P=0,A=L.length;P<A;++P)if(L[P].Constraint){var N=Object(p.d)(L[P].Constraint,(function(t){return"GetEncoding"==t.name})).AllowedValues.Value;if(""===F&&(F=N[0]),F!==i)break;Object(p.f)(N,i)&&D.push(L[P].href)}else L[P].href&&(F=i,D.push(L[P].href));return 0===D.length&&(F=o,n.ResourceURL.forEach((function(t){"tile"===t.resourceType&&(d=t.format,D.push(t.template))}))),{urls:D,layer:e.layer,matrixSet:c,format:d,projection:m,requestEncoding:F,tileGrid:E,style:v,dimensions:h,wrapX:!1,crossOrigin:e.crossOrigin}}},376:function(t,e,r){"use strict";r.r(e),r.d(e,"createFromCapabilitiesMatrixSet",(function(){return s}));var n,i=r(374),o=r(314),a=r(318),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){function e(e){var r=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return r.matrixIds_=e.matrixIds,r}return u(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(i.default);function s(t,e,r){var n=[],i=[],u=[],s=[],l=[],f=void 0!==r?r:[],p=t.SupportedCRS,d=Object(a.get)(p),v=d.getMetersPerUnit(),h="ne"==d.getAxisOrientation().substr(0,2);return t.TileMatrix.sort((function(t,e){return e.ScaleDenominator-t.ScaleDenominator})),t.TileMatrix.forEach((function(e){if(!(f.length>0)||Object(o.d)(f,(function(r){return e.Identifier==r.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===r.TileMatrix}))){i.push(e.Identifier);var r=28e-5*e.ScaleDenominator/v,a=e.TileWidth,c=e.TileHeight;h?u.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):u.push(e.TopLeftCorner),n.push(r),s.push(a==c?a:[a,c]),l.push([e.MatrixWidth,e.MatrixHeight])}})),new c({extent:e,origins:u,resolutions:n,matrixIds:i,tileSizes:s,sizes:l})}e.default=c},474:function(t,e,r){"use strict";r.r(e);r(314);function n(t,e){return function t(e,r,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)r?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{var i=void 0;for(i=e.firstChild;i;i=i.nextSibling)t(i,r,n)}return n}(t,e,[]).join("")}function i(t,e){return function(r,n){var i=t.call(void 0!==e?e:this,r,n);void 0!==i&&n[n.length-1].push(i)}}function o(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);if(void 0!==o){var a=i[i.length-1],u=void 0!==e?e:n.localName,c=void 0;u in a?c=a[u]:(c=[],a[u]=c),c.push(o)}}}function a(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);void 0!==o&&(i[i.length-1][void 0!==e?e:n.localName]=o)}}function u(t,e){var r=t;return function(t,n,i){var o=n[n.length-1].node,a=r;return void 0===a&&(a=i),function(t,e){return f().createElementNS(t,e)}(void 0!==e?e:o.namespaceURI,a)}}u();function c(t,e,r){var n,i,o=void 0!==r?r:{};for(n=0,i=t.length;n<i;++n)o[t[n]]=e;return o}function s(t,e,r,n,i){return n.push(t),function(t,e,r,n){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(n,i,r)}}}(e,r,n,i),n.pop()}var l=void 0;function f(){return void 0===l&&"undefined"!=typeof document&&(l=document.implementation.createDocument("","",null)),l}var p=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=(r=t,(new DOMParser).parseFromString(r,"application/xml"));return this.readFromDocument(e)}return"documentElement"in t?this.readFromDocument(t):this.readFromNode(t)}return null;var r},t.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},t.prototype.readFromNode=function(t){},t}();function d(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}r(448);function v(t){var e,r=n(t,!1);return(e=/^\s*(\d+)\s*$/.exec(r))?parseInt(e[1],10):void 0}function h(t){return n(t,!1).trim()}var m,g=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y=[null,"http://www.opengis.net/ows/1.1"],T=c(y,{ServiceIdentification:a((function(t,e){return s({},F,t,e)})),ServiceProvider:a((function(t,e){return s({},L,t,e)})),OperationsMetadata:a((function(t,e){return s({},C,t,e)}))}),x=function(t){function e(){return t.call(this)||this}return g(e,t),e.prototype.readFromNode=function(t){var e=s({},T,t,[]);return e||null},e}(p),S=c(y,{DeliveryPoint:a(h),City:a(h),AdministrativeArea:a(h),PostalCode:a(h),Country:a(h),ElectronicMailAddress:a(h)}),b=c(y,{Value:o((function(t,e){return h(t)}))}),_=c(y,{AllowedValues:a((function(t,e){return s({},b,t,e)}))}),O=c(y,{Phone:a((function(t,e){return s({},I,t,e)})),Address:a((function(t,e){return s({},S,t,e)}))}),M=c(y,{HTTP:a((function(t,e){return s({},w,t,e)}))}),w=c(y,{Get:o((function(t,e){var r=d(t);if(!r)return;return s({href:r},E,t,e)})),Post:void 0}),j=c(y,{DCP:a((function(t,e){return s({},M,t,e)}))}),C=c(y,{Operation:function(t,e){var r=t.getAttribute("name"),n=s({},j,t,e);if(!n)return;e[e.length-1][r]=n}}),I=c(y,{Voice:a(h),Facsimile:a(h)}),E=c(y,{Constraint:o((function(t,e){var r=t.getAttribute("name");if(!r)return;return s({name:r},_,t,e)}))}),D=c(y,{IndividualName:a(h),PositionName:a(h),ContactInfo:a((function(t,e){return s({},O,t,e)}))}),F=c(y,{Abstract:a(h),AccessConstraints:a(h),Fees:a(h),Title:a(h),ServiceTypeVersion:a(h),ServiceType:a(h)}),L=c(y,{ProviderName:a(h),ProviderSite:a(d),ServiceContact:a((function(t,e){return s({},D,t,e)}))});var P=x,A=r(312),N=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=[null,"http://www.opengis.net/wmts/1.0"],V=[null,"http://www.opengis.net/ows/1.1"],k=c(R,{Contents:a((function(t,e){return s({},W,t,e)}))}),U=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new P,e}return N(e,t),e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=s(r,k,t,[]))||null):null},e}(p),W=c(R,{Layer:o((function(t,e){return s({},q,t,e)})),TileMatrixSet:o((function(t,e){return s({},B,t,e)}))}),q=c(R,{Style:o((function(t,e){var r=s({},G,t,e);if(!r)return;var n="true"===t.getAttribute("isDefault");return r.isDefault=n,r})),Format:o(h),TileMatrixSetLink:o((function(t,e){return s({},z,t,e)})),Dimension:o((function(t,e){return s({},X,t,e)})),ResourceURL:o((function(t,e){var r=t.getAttribute("format"),n=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};r&&(o.format=r);n&&(o.template=n);i&&(o.resourceType=i);return o}))},c(V,{Title:a(h),Abstract:a(h),WGS84BoundingBox:a((function(t,e){var r=s([],$,t,e);if(2!=r.length)return;return Object(A.b)(r)})),Identifier:a(h)})),G=c(R,{LegendURL:o((function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=d(t),r}))},c(V,{Title:a(h),Identifier:a(h)})),z=c(R,{TileMatrixSet:a(h),TileMatrixSetLimits:a((function(t,e){return s([],H,t,e)}))}),H=c(R,{TileMatrixLimits:i((function(t,e){return s({},K,t,e)}))}),K=c(R,{TileMatrix:a(h),MinTileRow:a(v),MaxTileRow:a(v),MinTileCol:a(v),MaxTileCol:a(v)}),X=c(R,{Default:a(h),Value:o(h)},c(V,{Identifier:a(h)})),$=c(V,{LowerCorner:i(Q),UpperCorner:i(Q)}),B=c(R,{WellKnownScaleSet:a(h),TileMatrix:o((function(t,e){return s({},J,t,e)}))},c(V,{SupportedCRS:a(h),Identifier:a(h)})),J=c(R,{TopLeftCorner:a(Q),ScaleDenominator:a((function(t){var e,r=n(t,!1);return(e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(r))?parseFloat(e[1]):void 0})),TileWidth:a(v),TileHeight:a(v),MatrixWidth:a(v),MatrixHeight:a(v)},c(V,{Identifier:a(h)}));function Q(t,e){var r=h(t).split(/\s+/);if(r&&2==r.length){var n=+r[0],i=+r[1];if(!isNaN(n)&&!isNaN(i))return[n,i]}}e.default=U}}]);